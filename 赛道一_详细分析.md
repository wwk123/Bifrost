# èµ›é“ä¸€: æ„å»ºä¸‹ä¸€ä»£ Web3 ç”Ÿæ€ç³»ç»Ÿ - æ·±åº¦åˆ†æ

> **èµ›é¢˜æä¾›æ–¹**: OneBlock+
> **æŠ€æœ¯æ ¸å¿ƒ**: REVMã€EVMã€PolkaVM (PVM)
> **ä¸“é¡¹å¥–é‡‘**: 2,000U + 1,000Uå›¢é˜Ÿå¥–

---

## ğŸ“š ç›®å½•

1. [æŠ€æœ¯èƒŒæ™¯ä¸æ ¸å¿ƒæ¦‚å¿µ](#æŠ€æœ¯èƒŒæ™¯ä¸æ ¸å¿ƒæ¦‚å¿µ)
2. [Polkadot ç”Ÿæ€æŠ€æœ¯æ ˆæ·±åº¦è§£æ](#polkadot-ç”Ÿæ€æŠ€æœ¯æ ˆæ·±åº¦è§£æ)
3. [åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ](#åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ)
4. [æŠ€æœ¯å®ç°è·¯å¾„](#æŠ€æœ¯å®ç°è·¯å¾„)
5. [è¯„åˆ†æ ‡å‡†è§£è¯»](#è¯„åˆ†æ ‡å‡†è§£è¯»)
6. [æˆåŠŸæ¡ˆä¾‹å‚è€ƒ](#æˆåŠŸæ¡ˆä¾‹å‚è€ƒ)

---

## ğŸ“– æŠ€æœ¯èƒŒæ™¯ä¸æ ¸å¿ƒæ¦‚å¿µ

### 1.1 Polkadot ç”Ÿæ€æ¦‚è§ˆ

#### ä»€ä¹ˆæ˜¯ Polkadot?

Polkadot æ˜¯ä¸€ä¸ª**å¼‚æ„å¤šé“¾æ¶æ„**çš„åŒºå—é“¾ç½‘ç»œ,ç”±ä»¥å¤ªåŠè”åˆåˆ›å§‹äºº Gavin Wood åšå£«è®¾è®¡ã€‚

**æ ¸å¿ƒç‰¹æ€§**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Polkadot æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Parachain 1 â”‚  â”‚  Parachain 2 â”‚  â”‚  Parachain N â”‚   â”‚
â”‚  â”‚   (å¹³è¡Œé“¾)    â”‚  â”‚   (å¹³è¡Œé“¾)    â”‚  â”‚   (å¹³è¡Œé“¾)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                  â”‚                  â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                            â”‚                              â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                   â”‚   Relay Chain    â”‚                    â”‚
â”‚                   â”‚   (ä¸­ç»§é“¾ - æ ¸å¿ƒ)  â”‚                    â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                            â”‚                              â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚                  â”‚                  â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Validator 1 â”‚  â”‚  Validator 2 â”‚  â”‚  Validator N â”‚   â”‚
â”‚  â”‚  (éªŒè¯è€…èŠ‚ç‚¹)  â”‚  â”‚  (éªŒè¯è€…èŠ‚ç‚¹)  â”‚  â”‚  (éªŒè¯è€…èŠ‚ç‚¹)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº”å¤§ä¼˜åŠ¿**:

1. **çœŸæ­£çš„äº’æ“ä½œæ€§** (Interoperability)
   - é€šè¿‡ XCM (Cross-Consensus Message) åè®®å®ç°é“¾é—´é€šä¿¡
   - ä¸åŒå¹³è¡Œé“¾å¯ä»¥æ— ç¼äº¤æ¢èµ„äº§å’Œæ•°æ®

2. **å…±äº«å®‰å…¨æ€§** (Shared Security)
   - æ‰€æœ‰å¹³è¡Œé“¾å…±äº«ä¸­ç»§é“¾çš„å®‰å…¨æ€§
   - é¿å…æ¯æ¡é“¾å•ç‹¬ç»´æŠ¤éªŒè¯è€…ç½‘ç»œ

3. **å¯æ‰©å±•æ€§** (Scalability)
   - å¹³è¡Œå¤„ç†å¤šæ¡é“¾çš„äº¤æ˜“
   - ç†è®ºä¸Šå¯æ— é™æ‰©å±•

4. **æ²»ç†å‡çº§** (Governance)
   - é“¾ä¸Šæ²»ç†æœºåˆ¶
   - æ— éœ€ç¡¬åˆ†å‰å³å¯å‡çº§

5. **ä¸“ä¸šåŒ–é“¾** (Specialization)
   - æ¯æ¡å¹³è¡Œé“¾å¯é’ˆå¯¹ç‰¹å®šç”¨ä¾‹ä¼˜åŒ–
   - DeFié“¾ã€NFTé“¾ã€éšç§é“¾ç­‰

---

### 1.2 æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶è¯¦è§£

#### ğŸ”¹ REVM (Rust Ethereum Virtual Machine)

**ä»€ä¹ˆæ˜¯ REVM?**

REVM æ˜¯ç”¨ Rust è¯­è¨€é‡å†™çš„ä»¥å¤ªåŠè™šæ‹Ÿæœº,ä¸“ä¸ºé«˜æ€§èƒ½å’Œå®‰å…¨æ€§è®¾è®¡ã€‚

```rust
// REVM æ ¸å¿ƒæ¦‚å¿µç¤ºä¾‹
use revm::{Database, EVM};
use revm::primitives::{Address, U256, TransactTo};

// åˆ›å»º EVM å®ä¾‹
let mut evm = EVM::new();

// è®¾ç½®ç¯å¢ƒå‚æ•°
evm.env.tx.caller = Address::from([0x1; 20]);
evm.env.tx.transact_to = TransactTo::Call(contract_address);
evm.env.tx.value = U256::from(1000);

// æ‰§è¡Œäº¤æ˜“
let result = evm.transact();
```

**REVM çš„ä¼˜åŠ¿**:

| ç‰¹æ€§ | è¯´æ˜ | å¼€å‘è€…æ”¶ç›Š |
|------|------|-----------|
| **ä»¥å¤ªåŠå…¼å®¹** | 100% EVM å…¼å®¹ | æ— ç¼è¿ç§»ç°æœ‰ Solidity åˆçº¦ |
| **é«˜æ€§èƒ½** | Rust è¯­è¨€æ€§èƒ½ä¼˜åŠ¿ | 3-5x æ‰§è¡Œé€Ÿåº¦æå‡ |
| **å·¥å…·é“¾æ”¯æŒ** | æ”¯æŒ Foundry/Hardhat | ä½¿ç”¨ç†Ÿæ‚‰çš„å¼€å‘å·¥å…· |
| **å†…å­˜å®‰å…¨** | Rust å†…å­˜å®‰å…¨ä¿è¯ | å‡å°‘æ¼æ´é£é™© |
| **æ¨¡å—åŒ–è®¾è®¡** | å¯æ’æ‹”ç»„ä»¶ | çµæ´»å®šåˆ¶åŠŸèƒ½ |

**REVM æŠ€æœ¯æ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  REVM æ¶æ„å±‚æ¬¡                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         åº”ç”¨å±‚ (Solidity æ™ºèƒ½åˆçº¦)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     ç¼–è¯‘å±‚ (Solc â†’ Bytecode)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     REVM æ‰§è¡Œå±‚                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ Executor â”‚  â”‚ Precompileâ”‚ â”‚  Memory  â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     çŠ¶æ€å±‚ (Database / Storage)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ”¹ PolkaVM (PVM)

**ä»€ä¹ˆæ˜¯ PolkaVM?**

PolkaVM æ˜¯ Polkadot ä¸‹ä¸€ä»£è™šæ‹Ÿæœº,ä¸“ä¸ºåŒºå—é“¾ç¯å¢ƒä¼˜åŒ–è®¾è®¡ã€‚

**PVM vs EVM å¯¹æ¯”**:

| ç»´åº¦ | EVM | PolkaVM |
|------|-----|---------|
| **è®¾è®¡ç›®æ ‡** | é€šç”¨æ™ºèƒ½åˆçº¦æ‰§è¡Œ | åŒºå—é“¾ä¼˜åŒ–æ‰§è¡Œ |
| **æ€§èƒ½** | åŸºå‡† 1x | 10-100x |
| **Gas æ¨¡å‹** | å¤æ‚ä¸”æ˜‚è´µ | ç®€åŒ–ä¸”å¯é¢„æµ‹ |
| **ç¡®å®šæ€§** | æœ‰é™ | å®Œå…¨ç¡®å®šæ€§ |
| **æ²™ç›’éš”ç¦»** | ä¸­ç­‰ | å¼ºéš”ç¦» |
| **ç¼–è¯‘ç›®æ ‡** | Solidity, Vyper | Rust, AssemblyScript, C |

**PVM æ¶æ„ä¼˜åŠ¿**:

```
ä¼ ç»Ÿ EVM æ‰§è¡Œæµç¨‹:
Solidity â†’ Bytecode â†’ EVM â†’ çŠ¶æ€å˜æ›´
             â†‘
        (è§£é‡Šæ‰§è¡Œ,æ…¢)

PVM æ‰§è¡Œæµç¨‹:
Rust/C â†’ WASM â†’ JIT Compilation â†’ Native Code â†’ çŠ¶æ€å˜æ›´
                       â†‘
                 (å³æ—¶ç¼–è¯‘,å¿«)
```

**PVM ç¤ºä¾‹ä»£ç **:

```rust
// PolkaVM æ™ºèƒ½åˆçº¦ç¤ºä¾‹ (Rust)
#![no_std]

use polkavm_derive::{polkavm_define_program, polkavm_export};

#[polkavm_define_program]
pub struct MyContract;

#[polkavm_export]
impl MyContract {
    // åˆå§‹åŒ–åˆçº¦
    pub fn new(initial_value: u64) -> Self {
        // è®¾ç½®åˆå§‹çŠ¶æ€
        Self::set_storage(0, initial_value);
        Self
    }

    // é€’å¢è®¡æ•°å™¨
    pub fn increment(&mut self) -> u64 {
        let current = Self::get_storage(0);
        let new_value = current + 1;
        Self::set_storage(0, new_value);
        new_value
    }

    // è·å–å½“å‰å€¼
    pub fn get(&self) -> u64 {
        Self::get_storage(0)
    }
}
```

---

#### ğŸ”¹ XCM (Cross-Consensus Message)

**ä»€ä¹ˆæ˜¯ XCM?**

XCM æ˜¯ Polkadot çš„è·¨é“¾é€šä¿¡åè®®,å…è®¸ä¸åŒåŒºå—é“¾ä¹‹é—´ä¼ é€’æ¶ˆæ¯å’Œèµ„äº§ã€‚

**XCM æ¶ˆæ¯ç±»å‹**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 XCM æ¶ˆæ¯æµè½¬                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  å¹³è¡Œé“¾ A                    å¹³è¡Œé“¾ B                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  DApp   â”‚                â”‚  DApp   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â”‚
â”‚       â”‚                          â”‚                   â”‚
â”‚       â”‚ 1. TransferAsset         â”‚                   â”‚
â”‚       â–¼                          â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚                   â”‚
â”‚  â”‚  XCM    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Executorâ”‚  2. é€šè¿‡ä¸­ç»§é“¾è·¯ç”±    â”‚          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚          â”‚        â”‚
â”‚                                  â”‚          â”‚        â”‚
â”‚                             â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”‚        â”‚
â”‚                             â”‚ Relay Chainâ”‚  â”‚        â”‚
â”‚                             â”‚  (ä¸­ç»§é“¾)   â”‚  â”‚        â”‚
â”‚                             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚        â”‚
â”‚                                  â”‚          â”‚        â”‚
â”‚                                  â”‚ 3. è½¬å‘  â”‚        â”‚
â”‚                                  â–¼          â–¼        â”‚
â”‚                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                             â”‚  XCM    â”‚              â”‚
â”‚                             â”‚ Executorâ”‚              â”‚
â”‚                             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â”‚
â”‚                                  â”‚                   â”‚
â”‚                                  â”‚ 4. ReceiveAsset   â”‚
â”‚                                  â–¼                   â”‚
â”‚                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                             â”‚  DApp   â”‚              â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**XCM æ ¸å¿ƒæŒ‡ä»¤**:

```rust
// XCM è·¨é“¾èµ„äº§è½¬ç§»ç¤ºä¾‹
use xcm::v3::prelude::*;

// æ„å»º XCM æ¶ˆæ¯
let message = Xcm(vec![
    // 1. ä»æºé“¾æå–èµ„äº§
    WithdrawAsset(
        vec![
            MultiAsset {
                id: Concrete(MultiLocation::new(0, X1(PalletInstance(50)))),
                fun: Fungible(1_000_000_000_000), // 1 DOT
            }
        ].into()
    ),
    // 2. è´­ä¹°æ‰§è¡Œæƒé‡
    BuyExecution {
        fees: MultiAsset {
            id: Concrete(MultiLocation::new(0, X1(PalletInstance(50)))),
            fun: Fungible(100_000_000),
        },
        weight_limit: Unlimited,
    },
    // 3. å­˜å…¥ç›®æ ‡è´¦æˆ·
    DepositAsset {
        assets: Wild(All),
        beneficiary: MultiLocation {
            parents: 0,
            interior: X1(AccountId32 {
                network: None,
                id: recipient_account,
            }),
        },
    },
]);

// å‘é€ XCM æ¶ˆæ¯
pallet_xcm::send_xcm(
    dest_para_id,
    message,
)?;
```

---

### 1.3 æŠ€æœ¯æ ˆå¯¹æ¯”åˆ†æ

#### å®Œæ•´æŠ€æœ¯æ ˆé€‰æ‹©çŸ©é˜µ

| æŠ€æœ¯æ ˆ | é€‚ç”¨åœºæ™¯ | å­¦ä¹ æ›²çº¿ | å¼€å‘é€Ÿåº¦ | æ€§èƒ½ | ç”Ÿæ€å…¼å®¹æ€§ |
|--------|---------|---------|---------|------|-----------|
| **REVM** | EVM è¿ç§»é¡¹ç›® | ä½ (ç†Ÿæ‚‰ Solidity) | å¿« | é«˜ | æé«˜ (Ethereum) |
| **PolkaVM** | é«˜æ€§èƒ½åº”ç”¨ | ä¸­ (å­¦ä¹  Rust) | ä¸­ | æé«˜ | ä¸­ (æ–°ç”Ÿæ€) |
| **Substrate Pallets** | å®šåˆ¶åŒ–é“¾ | é«˜ (Rust + æ¡†æ¶) | æ…¢ | æé«˜ | é«˜ (Polkadot) |
| **æ™ºèƒ½åˆçº¦ (ink!)** | å¿«é€ŸåŸå‹ | ä¸­ (Rust) | å¿« | é«˜ | ä¸­ (Polkadot) |

---

## ğŸ¯ åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ

### æ–¹å‘ä¸€: è·¨é“¾ DeFi èšåˆå™¨

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
é€šè¿‡ XCM åè®®èšåˆå¤šæ¡å¹³è¡Œé“¾çš„ DeFi åè®®,ä¸ºç”¨æˆ·æä¾›æœ€ä¼˜æ”¶ç›Šè·¯å¾„ã€‚

**è§£å†³çš„ç—›ç‚¹**:
- âŒ ç”¨æˆ·éœ€è¦åœ¨å¤šä¸ªå¹³è¡Œé“¾é—´æ‰‹åŠ¨æ¡¥æ¥èµ„äº§
- âŒ éš¾ä»¥å‘ç°æœ€ä¼˜æ”¶ç›Šæœºä¼š
- âŒ è·¨é“¾æ“ä½œå¤æ‚ä¸”æ˜‚è´µ
- âŒ ç¼ºä¹ç»Ÿä¸€çš„èµ„äº§ç®¡ç†ç•Œé¢

**ç›®æ ‡ç”¨æˆ·**:
- DeFi æŠ•èµ„è€… (å¯»æ±‚æœ€ä¼˜æ”¶ç›Š)
- æµåŠ¨æ€§æä¾›è€… (å¤šé“¾éƒ¨ç½²)
- DAO è´¢åº“ç®¡ç†è€… (èµ„äº§é…ç½®)

---

#### ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è·¨é“¾ DeFi èšåˆå™¨æ¶æ„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   å‰ç«¯å±‚ (Next.js + React)                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ èµ„äº§ä»ªè¡¨ç›˜  â”‚  â”‚ æ”¶ç›Šä¼˜åŒ–å™¨  â”‚  â”‚ äº¤æ˜“ç•Œé¢   â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                     â”‚
â”‚                            â”‚ Web3 / Polkadot.js API              â”‚
â”‚                            â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              æ™ºèƒ½åˆçº¦å±‚ (REVM / Solidity)                    â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ èšåˆå™¨åˆçº¦    â”‚  â”‚  è·¯ç”±åˆçº¦     â”‚  â”‚  é‡‘åº“åˆçº¦     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ - ç­–ç•¥ç®¡ç†    â”‚  â”‚ - è·¯å¾„ä¼˜åŒ–   â”‚  â”‚ - èµ„äº§æ‰˜ç®¡   â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ - æ”¶ç›Šè®¡ç®—    â”‚  â”‚ - Gas ä¼˜åŒ–   â”‚  â”‚ - æƒé™æ§åˆ¶   â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                  â”‚                  â”‚               â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                               â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     XCM è·¨é“¾å±‚                              â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚        XCM Message Router & Executor                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                â”‚                â”‚                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Acala        â”‚  â”‚  Moonbeam    â”‚  â”‚  Astar        â”‚         â”‚
â”‚  â”‚  (DeFi Hub)   â”‚  â”‚  (EVMå…¼å®¹)    â”‚  â”‚  (dApp Hub)   â”‚         â”‚
â”‚  â”‚               â”‚  â”‚              â”‚  â”‚               â”‚         â”‚
â”‚  â”‚  - Lending    â”‚  â”‚  - DEX       â”‚  â”‚  - Staking    â”‚         â”‚
â”‚  â”‚  - Swap       â”‚  â”‚  - Liquidity â”‚  â”‚  - Farming    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

**1. æ™ºèƒ½è·¯ç”±ç®—æ³•**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

/**
 * @title CrossChainRouter
 * @dev è·¨é“¾ DeFi è·¯ç”±åˆçº¦
 */
contract CrossChainRouter {
    struct Route {
        address[] paraChains;      // å¹³è¡Œé“¾åœ°å€åˆ—è¡¨
        address[] protocols;       // åè®®åœ°å€åˆ—è¡¨
        uint256[] expectedReturns; // é¢„æœŸæ”¶ç›Šç‡
        uint256 totalGas;          // æ€» Gas æ¶ˆè€—
    }

    /**
     * @dev æŸ¥æ‰¾æœ€ä¼˜æ”¶ç›Šè·¯å¾„
     * @param asset èµ„äº§ç±»å‹
     * @param amount æŠ•èµ„é‡‘é¢
     * @param riskLevel é£é™©ç­‰çº§ (1-5)
     * @return bestRoute æœ€ä¼˜è·¯å¾„
     */
    function findBestRoute(
        address asset,
        uint256 amount,
        uint8 riskLevel
    ) external view returns (Route memory bestRoute) {
        // 1. è·å–æ‰€æœ‰å¯ç”¨åè®®
        Protocol[] memory protocols = getAllProtocols(asset);

        // 2. è®¡ç®—æ¯ä¸ªåè®®çš„ APY
        uint256[] memory apys = new uint256[](protocols.length);
        for (uint i = 0; i < protocols.length; i++) {
            apys[i] = calculateAPY(protocols[i], amount);
        }

        // 3. æ ¹æ®é£é™©ç­‰çº§è¿‡æ»¤
        Protocol[] memory filtered = filterByRisk(protocols, apys, riskLevel);

        // 4. ä¼˜åŒ–è·¯å¾„ (è€ƒè™‘ Gas æˆæœ¬)
        bestRoute = optimizeRoute(filtered, amount);

        return bestRoute;
    }

    /**
     * @dev æ‰§è¡Œè·¨é“¾æŠ•èµ„
     */
    function executeCrossChainInvestment(
        Route memory route,
        uint256 amount
    ) external payable {
        // 1. éªŒè¯è·¯å¾„
        require(validateRoute(route), "Invalid route");

        // 2. è½¬ç§»èµ„äº§åˆ°æœ¬åˆçº¦
        IERC20(route.asset).transferFrom(msg.sender, address(this), amount);

        // 3. é€æ­¥æ‰§è¡Œè·¨é“¾æ“ä½œ
        uint256 remainingAmount = amount;
        for (uint i = 0; i < route.paraChains.length; i++) {
            // å‘é€ XCM æ¶ˆæ¯
            bytes memory xcmMessage = encodeXCMMessage(
                route.paraChains[i],
                route.protocols[i],
                remainingAmount
            );

            // æ‰§è¡Œè·¨é“¾è°ƒç”¨
            sendXCM(xcmMessage);

            // æ›´æ–°å‰©ä½™é‡‘é¢
            remainingAmount = calculateRemainingAmount(route, i);
        }

        emit InvestmentExecuted(msg.sender, route, amount);
    }
}
```

**2. æ”¶ç›Šä¼˜åŒ–å¼•æ“**

```typescript
// æ”¶ç›Šä¼˜åŒ–ç®—æ³• (TypeScript)
interface YieldOpportunity {
  parachain: string;
  protocol: string;
  apy: number;
  tvl: number;
  risk: number; // 1-5
  gasEstimate: bigint;
}

class YieldOptimizer {
  /**
   * åŠ¨æ€è§„åˆ’æ±‚è§£æœ€ä¼˜é…ç½®
   */
  async optimizeAllocation(
    amount: bigint,
    opportunities: YieldOpportunity[],
    maxRisk: number
  ): Promise<AllocationPlan> {
    // è¿‡æ»¤é£é™©ç­‰çº§
    const filtered = opportunities.filter(opp => opp.risk <= maxRisk);

    // è®¡ç®—å‡€æ”¶ç›Š (APY - Gasæˆæœ¬)
    const netReturns = filtered.map(opp => ({
      ...opp,
      netAPY: this.calculateNetAPY(opp, amount)
    }));

    // æ’åº: å‡€æ”¶ç›Šä»é«˜åˆ°ä½
    netReturns.sort((a, b) => b.netAPY - a.netAPY);

    // å¤šå…ƒåŒ–åˆ†é… (æœ€å¤š 5 ä¸ªåè®®)
    const allocation: AllocationPlan = {
      positions: [],
      expectedReturn: 0n,
      totalGas: 0n
    };

    let remaining = amount;
    const maxPositions = 5;

    for (let i = 0; i < Math.min(maxPositions, netReturns.length); i++) {
      const opp = netReturns[i];

      // åˆ†é…æ¯”ä¾‹: æ”¶ç›Šè¶Šé«˜åˆ†é…è¶Šå¤š
      const weight = this.calculateWeight(opp, netReturns);
      const allocAmount = (remaining * BigInt(Math.floor(weight * 100))) / 100n;

      if (allocAmount < parseEther("10")) continue; // æœ€å°æŠ•èµ„é¢

      allocation.positions.push({
        parachain: opp.parachain,
        protocol: opp.protocol,
        amount: allocAmount,
        expectedAPY: opp.netAPY
      });

      remaining -= allocAmount;
      allocation.totalGas += opp.gasEstimate;
    }

    // è®¡ç®—æ€»é¢„æœŸæ”¶ç›Š
    allocation.expectedReturn = this.calculateTotalReturn(allocation);

    return allocation;
  }

  /**
   * è®¡ç®—å‡€ APY (æ‰£é™¤ Gas æˆæœ¬)
   */
  private calculateNetAPY(
    opp: YieldOpportunity,
    amount: bigint
  ): number {
    const yearlyReturn = (amount * BigInt(opp.apy)) / 10000n;
    const gasCostUSD = this.estimateGasCostUSD(opp.gasEstimate);
    const netReturn = yearlyReturn - gasCostUSD;

    return Number((netReturn * 10000n) / amount);
  }
}
```

---

#### ğŸ¨ å‰ç«¯ UI/UX è®¾è®¡

**æ ¸å¿ƒé¡µé¢è®¾è®¡**:

1. **èµ„äº§ä»ªè¡¨ç›˜**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è·¨é“¾ DeFi èšåˆå™¨                    [è¿æ¥é’±åŒ…]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  æ€»èµ„äº§ä»·å€¼                                            â”‚
â”‚  $125,450.32                    â†‘ +12.5% (æœ¬å‘¨)      â”‚
â”‚                                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                                        â”‚
â”‚  èµ„äº§åˆ†å¸ƒ                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Acala    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  45%   $56,450        â”‚  â”‚
â”‚  â”‚  Moonbeam â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  30%   $37,635        â”‚  â”‚
â”‚  â”‚  Astar    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  20%   $25,090        â”‚  â”‚
â”‚  â”‚  å…¶ä»–     â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   5%   $ 6,275        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  æ´»è·ƒå¤´å¯¸                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Acala Lending     APY: 12.5%   $20,000  âœ“æ´»è·ƒ  â”‚  â”‚
â”‚  â”‚ Moonbeam DEX LP   APY: 18.3%   $15,000  âœ“æ´»è·ƒ  â”‚  â”‚
â”‚  â”‚ Astar Staking     APY:  8.2%   $10,000  âœ“æ´»è·ƒ  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  [ä¼˜åŒ–é…ç½®]  [æ·»åŠ èµ„é‡‘]  [æå–æ”¶ç›Š]                     â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

2. **æ”¶ç›Šä¼˜åŒ–å™¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ™ºèƒ½æ”¶ç›Šä¼˜åŒ–                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  æŠ•èµ„é‡‘é¢                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [10000] DOT                            â‰ˆ$50K  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  é£é™©åå¥½                                              â”‚
â”‚  â—¯ ä¿å®ˆ (1-2)  â—‰ å¹³è¡¡ (3)  â—¯ æ¿€è¿› (4-5)            â”‚
â”‚                                                        â”‚
â”‚  [ğŸ” æŸ¥æ‰¾æœ€ä¼˜æ–¹æ¡ˆ]                                     â”‚
â”‚                                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                                        â”‚
â”‚  æ¨èé…ç½®                                              â”‚
â”‚  é¢„æœŸå¹´åŒ–æ”¶ç›Š: 15.8%  |  é¢„è®¡ Gas: $12.50            â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“Š 45% â†’ Acala Lending                         â”‚  â”‚
â”‚  â”‚     APY: 12.5%  |  é£é™©: â˜…â˜…â˜†â˜†â˜†               â”‚  â”‚
â”‚  â”‚     $4,500 + $562.50/å¹´                        â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“Š 35% â†’ Moonbeam DEX LP                       â”‚  â”‚
â”‚  â”‚     APY: 21.2%  |  é£é™©: â˜…â˜…â˜…â˜†â˜†               â”‚  â”‚
â”‚  â”‚     $3,500 + $742/å¹´                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“Š 20% â†’ Astar Farming                         â”‚  â”‚
â”‚  â”‚     APY: 15.6%  |  é£é™©: â˜…â˜…â˜…â˜†â˜†               â”‚  â”‚
â”‚  â”‚     $2,000 + $312/å¹´                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  [âœ“ æ‰§è¡ŒæŠ•èµ„]  [è‡ªå®šä¹‰é…ç½®]                            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ“Š æŠ€æœ¯å®ç°è·¯çº¿å›¾

**Phase 1: åŸºç¡€æ¶æ„ (2å¤©)**
- Day 1:
  - âœ… æ­å»º REVM å¼€å‘ç¯å¢ƒ
  - âœ… éƒ¨ç½²åŸºç¡€èšåˆå™¨åˆçº¦
  - âœ… å®ç°ç®€å•èµ„äº§è½¬ç§»

- Day 2:
  - âœ… é›†æˆ XCM æ¶ˆæ¯ä¼ é€’
  - âœ… è¿æ¥ 1-2 ä¸ªæµ‹è¯•ç½‘å¹³è¡Œé“¾
  - âœ… å‰ç«¯æ¡†æ¶æ­å»º

**Phase 2: æ ¸å¿ƒåŠŸèƒ½ (1å¤©)**
- Day 3:
  - âœ… å®ç°æ”¶ç›Šä¼˜åŒ–ç®—æ³•
  - âœ… å¼€å‘è·¯ç”±åˆçº¦
  - âœ… UI ç•Œé¢å¼€å‘
  - âœ… æµ‹è¯•ç½‘éƒ¨ç½²

---

#### ğŸ† åˆ›æ–°ç‚¹ä¸ç«äº‰ä¼˜åŠ¿

**åˆ›æ–°ç‚¹**:

1. **AI é©±åŠ¨çš„æ”¶ç›Šä¼˜åŒ–**
   - æœºå™¨å­¦ä¹ é¢„æµ‹ APY è¶‹åŠ¿
   - åŠ¨æ€è°ƒæ•´æŠ•èµ„ç»„åˆ

2. **Gas æˆæœ¬ä¼˜åŒ–**
   - æ‰¹é‡æ“ä½œé™ä½æˆæœ¬
   - æ™ºèƒ½è·¯å¾„è§„åˆ’

3. **é£é™©ç®¡ç†**
   - å¤šå…ƒåŒ–é…ç½®
   - å®æ—¶é£é™©ç›‘æ§

4. **ç”¨æˆ·ä½“éªŒ**
   - ä¸€é”®æŠ•èµ„
   - å¯è§†åŒ–æ”¶ç›Šè¿½è¸ª

**ç«äº‰ä¼˜åŠ¿åˆ†æ**:

| ç«å“ | æˆ‘ä»¬çš„ä¼˜åŠ¿ |
|------|-----------|
| å•é“¾ DeFi | âœ… å¤šé“¾èšåˆ,æ›´é«˜æ”¶ç›Š |
| æ‰‹åŠ¨æ¡¥æ¥ | âœ… è‡ªåŠ¨åŒ– XCM,æ— éœ€æ‰‹åŠ¨ |
| ä¼ ç»Ÿèšåˆå™¨ | âœ… Polkadot åŸç”Ÿ,æ›´ä½æˆæœ¬ |

---

#### ğŸ“ˆ å¸‚åœºæ½œåŠ›ä¸å•†ä¸šæ¨¡å¼

**å¸‚åœºè§„æ¨¡**:
- Polkadot TVL: $50äº¿+ (2025)
- DeFi èšåˆå™¨å¸‚åœº: $20äº¿+
- ç›®æ ‡å¸‚åœºä»½é¢: 5-10%

**å•†ä¸šæ¨¡å¼**:
1. **åè®®è´¹** (0.1-0.5% ç®¡ç†è´¹)
2. **æ€§èƒ½è´¹** (10-20% è¶…é¢æ”¶ç›Šåˆ†æˆ)
3. **é«˜çº§åŠŸèƒ½è®¢é˜…**
4. **æµåŠ¨æ€§æŒ–çŸ¿æ”¶ç›Šåˆ†æˆ**

**æ”¶å…¥é¢„æµ‹** (ä¿å®ˆä¼°è®¡):
- æœˆæ´»ç”¨æˆ·: 1,000
- äººå‡ TVL: $10,000
- æ€» TVL: $10M
- å¹´æ”¶å…¥: $100K - $500K

---

### æ–¹å‘äºŒ: Polkadot ç”Ÿæ€ NFT å¸‚åœº

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
æ„å»º Polkadot åŸç”Ÿçš„è·¨é“¾ NFT å¸‚åœº,æ”¯æŒå¤šå¹³è¡Œé“¾ NFT çš„é“¸é€ ã€äº¤æ˜“å’Œè·¨é“¾è½¬ç§»ã€‚

**è§£å†³çš„ç—›ç‚¹**:
- âŒ Polkadot ç”Ÿæ€ç¼ºä¹ç»Ÿä¸€çš„ NFT å¸‚åœº
- âŒ è·¨é“¾ NFT äº¤æ˜“å›°éš¾
- âŒ åˆ›ä½œè€…æ”¶ç›Šåˆ†é…ä¸é€æ˜
- âŒ NFT æµåŠ¨æ€§ä¸è¶³

---

#### ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Polkadot NFT å¸‚åœºæ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            å‰ç«¯ (React + Next.js)               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚  â”‚NFT å±•ç¤º  â”‚ â”‚åˆ›ä½œè€…ä¸­å¿ƒâ”‚ â”‚äº¤æ˜“å¸‚åœº  â”‚       â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        æ™ºèƒ½åˆçº¦å±‚ (REVM + ink!)               â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚    â”‚
â”‚  â”‚  â”‚ NFT åˆçº¦   â”‚  â”‚ å¸‚åœºåˆçº¦   â”‚             â”‚    â”‚
â”‚  â”‚  â”‚ (ERC-721)  â”‚  â”‚            â”‚             â”‚    â”‚
â”‚  â”‚  â”‚            â”‚  â”‚ - æ‹å–     â”‚             â”‚    â”‚
â”‚  â”‚  â”‚ - mint     â”‚  â”‚ - å®šä»·å”®å– â”‚             â”‚    â”‚
â”‚  â”‚  â”‚ - transfer â”‚  â”‚ - ç‰ˆç¨åˆ†é… â”‚             â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚    â”‚
â”‚  â”‚  â”‚ è·¨é“¾æ¡¥åˆçº¦ â”‚  â”‚ å…ƒæ•°æ®åˆçº¦ â”‚             â”‚    â”‚
â”‚  â”‚  â”‚            â”‚  â”‚            â”‚             â”‚    â”‚
â”‚  â”‚  â”‚ - XCMé›†æˆ  â”‚  â”‚ - IPFSå­˜å‚¨ â”‚             â”‚    â”‚
â”‚  â”‚  â”‚ - NFTé”å®š  â”‚  â”‚ - é“¾ä¸Šç´¢å¼• â”‚             â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             å­˜å‚¨å±‚                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  IPFS    â”‚  â”‚ Arweave  â”‚  â”‚  é“¾ä¸Š    â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ (å›¾ç‰‡)    â”‚  â”‚ (æ°¸ä¹…)    â”‚  â”‚ (å…ƒæ•°æ®) â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

**1. NFT æ™ºèƒ½åˆçº¦**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/utils/Counters.sol";

/**
 * @title PolkadotNFT
 * @dev Polkadot ç”Ÿæ€ NFT åˆçº¦,æ”¯æŒç‰ˆç¨å’Œè·¨é“¾
 */
contract PolkadotNFT is ERC721URIStorage, Ownable {
    using Counters for Counters.Counter;
    Counters.Counter private _tokenIds;

    // ç‰ˆç¨ç»“æ„
    struct Royalty {
        address creator;
        uint96 percentage; // åŸºç‚¹ (10000 = 100%)
    }

    // NFT å…ƒæ•°æ®
    struct NFTMetadata {
        string name;
        string description;
        string imageURI;
        string animationURI;
        uint256 createdAt;
        bool isCrossChain; // æ˜¯å¦æ”¯æŒè·¨é“¾
    }

    // æ˜ å°„: tokenId => ç‰ˆç¨ä¿¡æ¯
    mapping(uint256 => Royalty) private _royalties;

    // æ˜ å°„: tokenId => å…ƒæ•°æ®
    mapping(uint256 => NFTMetadata) private _metadata;

    // äº‹ä»¶
    event NFTMinted(
        uint256 indexed tokenId,
        address indexed creator,
        string tokenURI
    );

    event RoyaltyPaid(
        uint256 indexed tokenId,
        address indexed creator,
        uint256 amount
    );

    constructor() ERC721("PolkadotNFT", "PNFT") {}

    /**
     * @dev é“¸é€  NFT
     */
    function mint(
        string memory tokenURI,
        string memory name,
        string memory description,
        string memory imageURI,
        uint96 royaltyPercentage
    ) public returns (uint256) {
        require(royaltyPercentage <= 1000, "Royalty too high"); // æœ€é«˜ 10%

        _tokenIds.increment();
        uint256 newTokenId = _tokenIds.current();

        _safeMint(msg.sender, newTokenId);
        _setTokenURI(newTokenId, tokenURI);

        // è®¾ç½®ç‰ˆç¨
        _royalties[newTokenId] = Royalty({
            creator: msg.sender,
            percentage: royaltyPercentage
        });

        // è®¾ç½®å…ƒæ•°æ®
        _metadata[newTokenId] = NFTMetadata({
            name: name,
            description: description,
            imageURI: imageURI,
            animationURI: "",
            createdAt: block.timestamp,
            isCrossChain: false
        });

        emit NFTMinted(newTokenId, msg.sender, tokenURI);

        return newTokenId;
    }

    /**
     * @dev æ‰¹é‡é“¸é€  (Gas ä¼˜åŒ–)
     */
    function batchMint(
        string[] memory tokenURIs,
        string[] memory names,
        uint96 royaltyPercentage
    ) public returns (uint256[] memory) {
        require(tokenURIs.length == names.length, "Length mismatch");
        require(tokenURIs.length <= 10, "Too many NFTs"); // é™åˆ¶æ‰¹é‡æ•°é‡

        uint256[] memory tokenIds = new uint256[](tokenURIs.length);

        for (uint i = 0; i < tokenURIs.length; i++) {
            tokenIds[i] = mint(
                tokenURIs[i],
                names[i],
                "",
                tokenURIs[i],
                royaltyPercentage
            );
        }

        return tokenIds;
    }

    /**
     * @dev è·å–ç‰ˆç¨ä¿¡æ¯ (EIP-2981 æ ‡å‡†)
     */
    function royaltyInfo(
        uint256 tokenId,
        uint256 salePrice
    ) external view returns (address receiver, uint256 royaltyAmount) {
        Royalty memory royalty = _royalties[tokenId];

        receiver = royalty.creator;
        royaltyAmount = (salePrice * royalty.percentage) / 10000;
    }

    /**
     * @dev å¯ç”¨è·¨é“¾åŠŸèƒ½
     */
    function enableCrossChain(uint256 tokenId) external {
        require(ownerOf(tokenId) == msg.sender, "Not owner");
        _metadata[tokenId].isCrossChain = true;
    }
}
```

**2. NFT å¸‚åœºåˆçº¦**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";

/**
 * @title NFTMarketplace
 * @dev NFT å¸‚åœºåˆçº¦,æ”¯æŒå®šä»·å”®å–å’Œæ‹å–
 */
contract NFTMarketplace is ReentrancyGuard {
    // æŒ‚å•ç»“æ„
    struct Listing {
        address seller;
        address nftContract;
        uint256 tokenId;
        uint256 price;
        uint256 listedAt;
        bool isActive;
    }

    // æ‹å–ç»“æ„
    struct Auction {
        address seller;
        address nftContract;
        uint256 tokenId;
        uint256 startPrice;
        uint256 currentBid;
        address currentBidder;
        uint256 endTime;
        bool isActive;
    }

    // æ˜ å°„
    mapping(bytes32 => Listing) public listings;
    mapping(bytes32 => Auction) public auctions;

    // å¹³å°è´¹ç‡ (åŸºç‚¹)
    uint96 public platformFee = 250; // 2.5%
    address public feeRecipient;

    // äº‹ä»¶
    event ItemListed(
        bytes32 indexed listingId,
        address indexed seller,
        address indexed nftContract,
        uint256 tokenId,
        uint256 price
    );

    event ItemSold(
        bytes32 indexed listingId,
        address indexed buyer,
        uint256 price
    );

    event AuctionCreated(
        bytes32 indexed auctionId,
        address indexed seller,
        uint256 startPrice,
        uint256 endTime
    );

    event BidPlaced(
        bytes32 indexed auctionId,
        address indexed bidder,
        uint256 amount
    );

    constructor(address _feeRecipient) {
        feeRecipient = _feeRecipient;
    }

    /**
     * @dev æŒ‚å•å”®å–
     */
    function listItem(
        address nftContract,
        uint256 tokenId,
        uint256 price
    ) external returns (bytes32) {
        require(price > 0, "Price must be > 0");

        IERC721 nft = IERC721(nftContract);
        require(nft.ownerOf(tokenId) == msg.sender, "Not owner");
        require(
            nft.isApprovedForAll(msg.sender, address(this)) ||
            nft.getApproved(tokenId) == address(this),
            "Not approved"
        );

        bytes32 listingId = keccak256(
            abi.encodePacked(nftContract, tokenId, block.timestamp)
        );

        listings[listingId] = Listing({
            seller: msg.sender,
            nftContract: nftContract,
            tokenId: tokenId,
            price: price,
            listedAt: block.timestamp,
            isActive: true
        });

        emit ItemListed(listingId, msg.sender, nftContract, tokenId, price);

        return listingId;
    }

    /**
     * @dev è´­ä¹° NFT
     */
    function buyItem(bytes32 listingId) external payable nonReentrant {
        Listing storage listing = listings[listingId];
        require(listing.isActive, "Listing not active");
        require(msg.value >= listing.price, "Insufficient payment");

        listing.isActive = false;

        // è®¡ç®—è´¹ç”¨
        uint256 platformCut = (listing.price * platformFee) / 10000;
        uint256 sellerProceeds = listing.price - platformCut;

        // æŸ¥è¯¢ç‰ˆç¨
        (address royaltyRecipient, uint256 royaltyAmount) =
            PolkadotNFT(listing.nftContract).royaltyInfo(
                listing.tokenId,
                listing.price
            );

        // è½¬ç§» NFT
        IERC721(listing.nftContract).safeTransferFrom(
            listing.seller,
            msg.sender,
            listing.tokenId
        );

        // åˆ†é…èµ„é‡‘
        if (royaltyAmount > 0) {
            sellerProceeds -= royaltyAmount;
            payable(royaltyRecipient).transfer(royaltyAmount);
        }

        payable(listing.seller).transfer(sellerProceeds);
        payable(feeRecipient).transfer(platformCut);

        // é€€è¿˜å¤šä½™é‡‘é¢
        if (msg.value > listing.price) {
            payable(msg.sender).transfer(msg.value - listing.price);
        }

        emit ItemSold(listingId, msg.sender, listing.price);
    }

    /**
     * @dev åˆ›å»ºæ‹å–
     */
    function createAuction(
        address nftContract,
        uint256 tokenId,
        uint256 startPrice,
        uint256 duration
    ) external returns (bytes32) {
        require(startPrice > 0, "Start price must be > 0");
        require(duration >= 1 hours && duration <= 7 days, "Invalid duration");

        IERC721 nft = IERC721(nftContract);
        require(nft.ownerOf(tokenId) == msg.sender, "Not owner");

        bytes32 auctionId = keccak256(
            abi.encodePacked(nftContract, tokenId, block.timestamp)
        );

        auctions[auctionId] = Auction({
            seller: msg.sender,
            nftContract: nftContract,
            tokenId: tokenId,
            startPrice: startPrice,
            currentBid: 0,
            currentBidder: address(0),
            endTime: block.timestamp + duration,
            isActive: true
        });

        // é”å®š NFT
        nft.transferFrom(msg.sender, address(this), tokenId);

        emit AuctionCreated(auctionId, msg.sender, startPrice, auctions[auctionId].endTime);

        return auctionId;
    }

    /**
     * @dev ç«æ‹
     */
    function placeBid(bytes32 auctionId) external payable nonReentrant {
        Auction storage auction = auctions[auctionId];
        require(auction.isActive, "Auction not active");
        require(block.timestamp < auction.endTime, "Auction ended");

        uint256 minBid = auction.currentBid == 0
            ? auction.startPrice
            : auction.currentBid + (auction.currentBid * 5 / 100); // æœ€å°‘åŠ ä»· 5%

        require(msg.value >= minBid, "Bid too low");

        // é€€è¿˜ä¸Šä¸€ä¸ªå‡ºä»·è€…çš„èµ„é‡‘
        if (auction.currentBidder != address(0)) {
            payable(auction.currentBidder).transfer(auction.currentBid);
        }

        auction.currentBid = msg.value;
        auction.currentBidder = msg.sender;

        emit BidPlaced(auctionId, msg.sender, msg.value);
    }

    /**
     * @dev ç»“æŸæ‹å–
     */
    function endAuction(bytes32 auctionId) external nonReentrant {
        Auction storage auction = auctions[auctionId];
        require(auction.isActive, "Auction not active");
        require(block.timestamp >= auction.endTime, "Auction not ended");

        auction.isActive = false;

        if (auction.currentBidder != address(0)) {
            // æœ‰å‡ºä»·è€…
            uint256 platformCut = (auction.currentBid * platformFee) / 10000;
            uint256 sellerProceeds = auction.currentBid - platformCut;

            // æŸ¥è¯¢ç‰ˆç¨
            (address royaltyRecipient, uint256 royaltyAmount) =
                PolkadotNFT(auction.nftContract).royaltyInfo(
                    auction.tokenId,
                    auction.currentBid
                );

            // è½¬ç§» NFT ç»™èµ¢å®¶
            IERC721(auction.nftContract).safeTransferFrom(
                address(this),
                auction.currentBidder,
                auction.tokenId
            );

            // åˆ†é…èµ„é‡‘
            if (royaltyAmount > 0) {
                sellerProceeds -= royaltyAmount;
                payable(royaltyRecipient).transfer(royaltyAmount);
            }

            payable(auction.seller).transfer(sellerProceeds);
            payable(feeRecipient).transfer(platformCut);
        } else {
            // æ— å‡ºä»·è€…,é€€è¿˜ NFT
            IERC721(auction.nftContract).safeTransferFrom(
                address(this),
                auction.seller,
                auction.tokenId
            );
        }
    }
}
```

---

#### ğŸ¨ å‰ç«¯è®¾è®¡

**æ ¸å¿ƒé¡µé¢: NFT è¯¦æƒ…é¡µ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† è¿”å›]                   Polkadot NFT Market               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         â”‚  â”‚  Cosmic Polkadot #42      â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚                           â”‚  â”‚
â”‚  â”‚      [NFT å›¾ç‰‡]         â”‚  â”‚  åˆ›ä½œè€…: @AliceArt        â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚  â­ å·²éªŒè¯                â”‚  â”‚
â”‚  â”‚   [3D å¯æ—‹è½¬é¢„è§ˆ]       â”‚  â”‚                           â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚  å½“å‰ä»·æ ¼                  â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚  ğŸ’ 12.5 DOT              â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚     â‰ˆ $62.50 USD          â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”    â”‚  â”‚
â”‚                                â”‚                           â”‚  â”‚
â”‚  [ğŸ”Š éŸ³é¢‘] [â–¶ï¸ è§†é¢‘] [ğŸ® 3D]    â”‚  [ğŸ’° ç«‹å³è´­ä¹°]            â”‚  â”‚
â”‚                                â”‚  [ğŸ›’ åŠ å…¥è´­ç‰©è½¦]          â”‚  â”‚
â”‚                                â”‚  [â¤ï¸ æ”¶è— (1.2K)]        â”‚  â”‚
â”‚                                â”‚                           â”‚  â”‚
â”‚                                â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”    â”‚  â”‚
â”‚                                â”‚                           â”‚  â”‚
â”‚                                â”‚  æ‹å–ä¿¡æ¯                  â”‚  â”‚
â”‚                                â”‚  æœ€é«˜å‡ºä»·: 15 DOT         â”‚  â”‚
â”‚                                â”‚  å‡ºä»·æ¬¡æ•°: 23             â”‚  â”‚
â”‚                                â”‚  ç»“æŸæ—¶é—´: 2h 34m 12s     â”‚  â”‚
â”‚                                â”‚                           â”‚  â”‚
â”‚                                â”‚  [ğŸ“¢ å‡ºä»·]                â”‚  â”‚
â”‚                                â”‚                           â”‚  â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  ğŸ“Š äº¤æ˜“å†å²                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2025-10-20  Alice â†’ Bob      12.5 DOT                  â”‚  â”‚
â”‚  â”‚ 2025-10-15  Carol â†’ Alice    10.0 DOT                  â”‚  â”‚
â”‚  â”‚ 2025-10-10  é“¸é€              --                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  ğŸ“ æè¿°                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç‹¬ç‰¹çš„ Polkadot ä¸»é¢˜è‰ºæœ¯ä½œå“,å±•ç¤ºäº†ç”Ÿæ€çš„å¤šæ ·æ€§...      â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ å±æ€§:                                                    â”‚  â”‚
â”‚  â”‚  â€¢ ç¨€æœ‰åº¦: ä¼ å¥‡ (0.01%)                                 â”‚  â”‚
â”‚  â”‚  â€¢ å¹³è¡Œé“¾: Moonbeam                                     â”‚  â”‚
â”‚  â”‚  â€¢ ç‰ˆç¨: 5%                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ† åˆ›æ–°ç‚¹

1. **è·¨é“¾ NFT è½¬ç§»**
   - é€šè¿‡ XCM å®ç° NFT åœ¨ä¸åŒå¹³è¡Œé“¾é—´è½¬ç§»
   - ä¿ç•™å®Œæ•´æ‰€æœ‰æƒå†å²

2. **åŠ¨æ€ç‰ˆç¨**
   - åˆ›ä½œè€…å¯è®¾ç½®ç‰ˆç¨æ¯”ä¾‹
   - è‡ªåŠ¨åˆ†é…æ”¶ç›Š

3. **ç¤¾äº¤åŠŸèƒ½**
   - å…³æ³¨åˆ›ä½œè€…
   - NFT ç¤¾åŒºæŠ•ç¥¨
   - ç¨€æœ‰åº¦æ’å

4. **åˆ†æ•°åŒ–æ‰€æœ‰æƒ**
   - å°†é«˜ä»·å€¼ NFT åˆ†å‰²ä¸ºå¤šä¸ªä»½é¢
   - é™ä½æŠ•èµ„é—¨æ§›

---

### æ–¹å‘ä¸‰: REVM å¼€å‘å·¥å…· SDK

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
ä¸º Polkadot å¼€å‘è€…æä¾›ä¸€å¥—å®Œæ•´çš„ REVM å¼€å‘å·¥å…·,ç®€åŒ–æ™ºèƒ½åˆçº¦å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ã€‚

**ç›®æ ‡ç”¨æˆ·**:
- Solidity å¼€å‘è€… (è¿ç§»åˆ° Polkadot)
- Polkadot å¼€å‘è€… (éœ€è¦ EVM å…¼å®¹æ€§)
- DApp å›¢é˜Ÿ (å¿«é€ŸåŸå‹å¼€å‘)

---

#### ğŸ› ï¸ SDK æ ¸å¿ƒåŠŸèƒ½

**1. CLI å·¥å…·**

```bash
# å®‰è£… REVM CLI
npm install -g @polkadot/revm-cli

# åˆ›å»ºæ–°é¡¹ç›®
revm init my-project
cd my-project

# ç¼–è¯‘åˆçº¦
revm compile contracts/MyContract.sol

# éƒ¨ç½²åˆ°æµ‹è¯•ç½‘
revm deploy --network moonbase-alpha

# è¿è¡Œæµ‹è¯•
revm test

# ä¸åˆçº¦äº¤äº’
revm console --network moonbase-alpha
```

**2. é¡¹ç›®è„šæ‰‹æ¶**

```
my-project/
â”œâ”€â”€ contracts/              # æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ MyToken.sol
â”‚   â””â”€â”€ MyNFT.sol
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ deploy.ts
â”‚   â””â”€â”€ interact.ts
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ MyToken.test.ts
â”‚   â””â”€â”€ MyNFT.test.ts
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ public/
â”œâ”€â”€ revm.config.ts          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ hardhat.config.ts       # Hardhat å…¼å®¹é…ç½®
â””â”€â”€ package.json
```

**3. JavaScript/TypeScript SDK**

```typescript
// @polkadot/revm-sdk
import { REVM, Contract } from '@polkadot/revm-sdk';

// è¿æ¥åˆ° REVM ç½‘ç»œ
const revm = new REVM({
  network: 'moonbase-alpha',
  privateKey: process.env.PRIVATE_KEY
});

// åŠ è½½åˆçº¦
const contract = await Contract.load(
  revm,
  'MyToken',
  contractAddress
);

// è°ƒç”¨åˆçº¦æ–¹æ³•
const balance = await contract.balanceOf(userAddress);
console.log(`Balance: ${balance.toString()}`);

// å‘é€äº¤æ˜“
const tx = await contract.transfer(recipientAddress, amount);
await tx.wait();

console.log(`Transfer successful! TxHash: ${tx.hash}`);
```

**4. æµ‹è¯•æ¡†æ¶é›†æˆ**

```typescript
// test/MyToken.test.ts
import { expect } from 'chai';
import { loadFixture } from '@polkadot/revm-testing';

describe('MyToken', () => {
  async function deployFixture() {
    const [owner, addr1, addr2] = await revm.getSigners();

    const MyToken = await revm.getContractFactory('MyToken');
    const token = await MyToken.deploy('MyToken', 'MTK', 18);

    await token.deployed();

    return { token, owner, addr1, addr2 };
  }

  it('Should assign total supply to owner', async () => {
    const { token, owner } = await loadFixture(deployFixture);

    const ownerBalance = await token.balanceOf(owner.address);
    const totalSupply = await token.totalSupply();

    expect(ownerBalance).to.equal(totalSupply);
  });

  it('Should transfer tokens between accounts', async () => {
    const { token, owner, addr1 } = await loadFixture(deployFixture);

    await token.transfer(addr1.address, 100);
    expect(await token.balanceOf(addr1.address)).to.equal(100);

    await token.connect(addr1).transfer(owner.address, 50);
    expect(await token.balanceOf(addr1.address)).to.equal(50);
  });
});
```

---

#### ğŸ“Š SDK æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             @polkadot/revm-sdk æ¶æ„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            å¼€å‘è€…æ¥å£å±‚                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚   CLI    â”‚  â”‚   SDK    â”‚  â”‚  Plugin  â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            æ ¸å¿ƒåŠŸèƒ½å±‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚ ç¼–è¯‘å™¨   â”‚  â”‚ éƒ¨ç½²å™¨   â”‚  â”‚ æµ‹è¯•å™¨   â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚ äº¤äº’å™¨   â”‚  â”‚ ç›‘æ§å™¨   â”‚  â”‚ è°ƒè¯•å™¨   â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            é€‚é…å±‚                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚Hardhat   â”‚  â”‚ Foundry  â”‚  â”‚Polkadot.jsâ”‚       â”‚  â”‚
â”‚  â”‚  â”‚é€‚é…å™¨    â”‚  â”‚  é€‚é…å™¨  â”‚  â”‚  é€‚é…å™¨  â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            REVM åº•å±‚                               â”‚  â”‚
â”‚  â”‚         (Rust å®ç°çš„ EVM)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

**1. ä¸€é”®è¿ç§»å·¥å…·**

```typescript
// ä»ä»¥å¤ªåŠè¿ç§»åˆ° Polkadot REVM
import { migrate } from '@polkadot/revm-migrate';

// è‡ªåŠ¨æ£€æµ‹å’Œè½¬æ¢
await migrate({
  source: './ethereum-project',
  dest: './polkadot-project',
  network: 'moonbase-alpha',
  options: {
    preserveStructure: true,
    convertTests: true,
    updateDependencies: true
  }
});

// è¾“å‡º:
// âœ… è½¬æ¢ 5 ä¸ªåˆçº¦
// âœ… è½¬æ¢ 12 ä¸ªæµ‹è¯•
// âœ… æ›´æ–° package.json
// âœ… ç”Ÿæˆ revm.config.ts
```

**2. æ™ºèƒ½åˆçº¦æ¨¡æ¿åº“**

```bash
# æŸ¥çœ‹å¯ç”¨æ¨¡æ¿
revm templates list

# å¯ç”¨æ¨¡æ¿:
# - erc20-token       (ERC-20 ä»£å¸åˆçº¦)
# - erc721-nft        (NFT åˆçº¦)
# - dao-governance    (DAO æ²»ç†åˆçº¦)
# - staking-pool      (è´¨æŠ¼æ± åˆçº¦)
# - dex-amm           (å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€)

# ä½¿ç”¨æ¨¡æ¿åˆ›å»ºåˆçº¦
revm create --template erc20-token MyToken

# ç”Ÿæˆçš„åˆçº¦åŒ…å«:
# - æ ‡å‡† ERC-20 å®ç°
# - é“¸é€ /é”€æ¯åŠŸèƒ½
# - æš‚åœæœºåˆ¶
# - æ‰€æœ‰æƒç®¡ç†
# - å®Œæ•´æµ‹è¯•ç”¨ä¾‹
```

**3. äº¤äº’å¼è°ƒè¯•å™¨**

```typescript
// è°ƒè¯•æ¨¡å¼è¿è¡Œæµ‹è¯•
revm test --debug

// äº¤äº’å¼è°ƒè¯•ç•Œé¢
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REVM Debugger                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Contract: MyToken                      â”‚
â”‚  Function: transfer                     â”‚
â”‚  Line: 45                               â”‚
â”‚                                         â”‚
â”‚  43: function transfer(address to,      â”‚
â”‚  44:                   uint256 amount)  â”‚
â”‚  45: â–¶ require(balanceOf[msg.sender]>=  â”‚
â”‚  46:         amount, "Insufficient");   â”‚
â”‚  47: balanceOf[msg.sender] -= amount;   â”‚
â”‚                                         â”‚
â”‚  Variables:                             â”‚
â”‚  - msg.sender: 0x123...abc              â”‚
â”‚  - to: 0x456...def                      â”‚
â”‚  - amount: 100                          â”‚
â”‚  - balanceOf[msg.sender]: 50 âŒ         â”‚
â”‚                                         â”‚
â”‚  [n]ext [s]tep [c]ontinue [q]uit       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

#### ğŸ“ˆ å¸‚åœºå®šä½ä¸æ¨å¹¿

**ç›®æ ‡å¸‚åœº**:
- å…¨çƒ 10,000+ Solidity å¼€å‘è€…
- Polkadot ç”Ÿæ€æ–°é¡¹ç›®
- ä¼ä¸šçº§ DApp å¼€å‘å›¢é˜Ÿ

**æ¨å¹¿ç­–ç•¥**:
1. **å¼€æºç¤¾åŒº**
   - GitHub å¼€æºå‘å¸ƒ
   - è¯¦ç»†æ–‡æ¡£å’Œæ•™ç¨‹
   - ç¤¾åŒºè´¡çŒ®å¥–åŠ±

2. **å¼€å‘è€…è¥é”€**
   - æŠ€æœ¯åšå®¢å’Œè§†é¢‘æ•™ç¨‹
   - Hackathon èµåŠ©
   - çº¿ä¸Š/çº¿ä¸‹ Workshop

3. **ç”Ÿæ€åˆä½œ**
   - ä¸ Polkadot å®˜æ–¹åˆä½œ
   - å¹³è¡Œé“¾é¡¹ç›®é›†æˆ
   - IDE æ’ä»¶ (VS Code)

---

### æ–¹å‘å››: é“¾ä¸ŠæŠ•ç¥¨æ²»ç†ç³»ç»Ÿ

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
ä¸º DAO å’Œå»ä¸­å¿ƒåŒ–ç»„ç»‡æä¾›å®Œæ•´çš„é“¾ä¸Šæ²»ç†è§£å†³æ–¹æ¡ˆ,æ”¯æŒå¤šç§æŠ•ç¥¨æœºåˆ¶å’Œè·¨é“¾ææ¡ˆæ‰§è¡Œã€‚

---

#### ğŸ—ï¸ æ²»ç†ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é“¾ä¸Šæ²»ç†ç³»ç»Ÿæ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            æ²»ç†å‰ç«¯                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚ææ¡ˆåˆ—è¡¨  â”‚  â”‚ æŠ•ç¥¨ç•Œé¢ â”‚  â”‚ ç»“æœå±•ç¤º â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            æ²»ç†åˆçº¦å±‚                              â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚         Governor ä¸»åˆçº¦                     â”‚  â”‚
â”‚  â”‚  â”‚                                             â”‚  â”‚
â”‚  â”‚  â”‚  - ææ¡ˆåˆ›å»º                                 â”‚  â”‚
â”‚  â”‚  â”‚  - æŠ•ç¥¨ç®¡ç†                                 â”‚  â”‚
â”‚  â”‚  â”‚  - ææ¡ˆæ‰§è¡Œ                                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚               â”‚                            â”‚      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  æŠ•ç¥¨ç­–ç•¥æ¨¡å—        â”‚  â”‚  æ—¶é—´é”æ¨¡å—       â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚  â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚  - ç®€å•å¤šæ•°         â”‚  â”‚  - å»¶è¿Ÿæ‰§è¡Œ       â”‚  â”‚
â”‚  â”‚  â”‚  - äºŒæ¬¡æ–¹æŠ•ç¥¨       â”‚  â”‚  - ææ¡ˆå–æ¶ˆ       â”‚  â”‚
â”‚  â”‚  â”‚  - ä»£ç†æŠ•ç¥¨         â”‚  â”‚  - ç´§æ€¥æš‚åœ       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            ä»£å¸å±‚ (æ²»ç†ä»£å¸)                    â”‚  â”‚
â”‚  â”‚                                                 â”‚  â”‚
â”‚  â”‚  - æŠ•ç¥¨æƒé‡ = ä»£å¸ä½™é¢                         â”‚  â”‚
â”‚  â”‚  - å¿«ç…§åŠŸèƒ½ (é˜²æ­¢é—ªç”µè´·æ”»å‡»)                   â”‚  â”‚
â”‚  â”‚  - ä»£ç†æŠ•ç¥¨                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½

**1. Governor åˆçº¦**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

/**
 * @title Governor
 * @dev DAO æ²»ç†ä¸»åˆçº¦
 */
contract Governor {
    // ææ¡ˆç»“æ„
    struct Proposal {
        uint256 id;
        address proposer;
        string description;
        address[] targets;      // è°ƒç”¨ç›®æ ‡åˆçº¦
        uint256[] values;       // å‘é€çš„ ETH æ•°é‡
        bytes[] calldatas;      // è°ƒç”¨æ•°æ®
        uint256 startBlock;
        uint256 endBlock;
        uint256 forVotes;
        uint256 againstVotes;
        uint256 abstainVotes;
        bool executed;
        bool canceled;
        mapping(address => bool) hasVoted;
    }

    // æŠ•ç¥¨ç±»å‹
    enum VoteType { Against, For, Abstain }

    // ææ¡ˆçŠ¶æ€
    enum ProposalState {
        Pending,
        Active,
        Canceled,
        Defeated,
        Succeeded,
        Queued,
        Expired,
        Executed
    }

    // é…ç½®å‚æ•°
    uint256 public votingDelay = 1 days;     // ææ¡ˆç”Ÿæ•ˆå‰çš„ç­‰å¾…æœŸ
    uint256 public votingPeriod = 3 days;    // æŠ•ç¥¨æŒç»­æ—¶é—´
    uint256 public proposalThreshold = 100000e18; // åˆ›å»ºææ¡ˆæ‰€éœ€ä»£å¸æ•°
    uint256 public quorumVotes = 400000e18;  // æ³•å®šäººæ•°

    mapping(uint256 => Proposal) public proposals;
    uint256 public proposalCount;

    IGovernanceToken public governanceToken;

    event ProposalCreated(
        uint256 indexed proposalId,
        address indexed proposer,
        string description
    );

    event VoteCast(
        address indexed voter,
        uint256 indexed proposalId,
        uint8 support,
        uint256 weight
    );

    event ProposalExecuted(uint256 indexed proposalId);

    /**
     * @dev åˆ›å»ºææ¡ˆ
     */
    function propose(
        address[] memory targets,
        uint256[] memory values,
        bytes[] memory calldatas,
        string memory description
    ) public returns (uint256) {
        require(
            governanceToken.getPriorVotes(msg.sender, block.number - 1) >= proposalThreshold,
            "Insufficient voting power"
        );

        require(targets.length == values.length, "Length mismatch");
        require(targets.length == calldatas.length, "Length mismatch");
        require(targets.length > 0, "Empty proposal");

        proposalCount++;
        uint256 proposalId = proposalCount;

        Proposal storage newProposal = proposals[proposalId];
        newProposal.id = proposalId;
        newProposal.proposer = msg.sender;
        newProposal.description = description;
        newProposal.targets = targets;
        newProposal.values = values;
        newProposal.calldatas = calldatas;
        newProposal.startBlock = block.number + votingDelay;
        newProposal.endBlock = newProposal.startBlock + votingPeriod;

        emit ProposalCreated(proposalId, msg.sender, description);

        return proposalId;
    }

    /**
     * @dev æŠ•ç¥¨
     */
    function castVote(
        uint256 proposalId,
        uint8 support
    ) public {
        Proposal storage proposal = proposals[proposalId];
        require(state(proposalId) == ProposalState.Active, "Voting is closed");
        require(!proposal.hasVoted[msg.sender], "Already voted");

        uint256 votes = governanceToken.getPriorVotes(msg.sender, proposal.startBlock);
        require(votes > 0, "No voting power");

        if (support == uint8(VoteType.Against)) {
            proposal.againstVotes += votes;
        } else if (support == uint8(VoteType.For)) {
            proposal.forVotes += votes;
        } else if (support == uint8(VoteType.Abstain)) {
            proposal.abstainVotes += votes;
        } else {
            revert("Invalid vote type");
        }

        proposal.hasVoted[msg.sender] = true;

        emit VoteCast(msg.sender, proposalId, support, votes);
    }

    /**
     * @dev æ‰§è¡Œææ¡ˆ
     */
    function execute(uint256 proposalId) public payable {
        require(state(proposalId) == ProposalState.Succeeded, "Proposal cannot be executed");

        Proposal storage proposal = proposals[proposalId];
        proposal.executed = true;

        for (uint256 i = 0; i < proposal.targets.length; i++) {
            (bool success, ) = proposal.targets[i].call{value: proposal.values[i]}(
                proposal.calldatas[i]
            );
            require(success, "Transaction execution reverted");
        }

        emit ProposalExecuted(proposalId);
    }

    /**
     * @dev è·å–ææ¡ˆçŠ¶æ€
     */
    function state(uint256 proposalId) public view returns (ProposalState) {
        Proposal storage proposal = proposals[proposalId];

        if (proposal.canceled) {
            return ProposalState.Canceled;
        } else if (block.number <= proposal.startBlock) {
            return ProposalState.Pending;
        } else if (block.number <= proposal.endBlock) {
            return ProposalState.Active;
        } else if (proposal.forVotes <= proposal.againstVotes || proposal.forVotes < quorumVotes) {
            return ProposalState.Defeated;
        } else if (proposal.executed) {
            return ProposalState.Executed;
        } else {
            return ProposalState.Succeeded;
        }
    }
}
```

---

#### ğŸ¨ æ²»ç†ç•Œé¢è®¾è®¡

**ææ¡ˆåˆ—è¡¨é¡µ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DAO æ²»ç†å¹³å°                           [åˆ›å»ºææ¡ˆ]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ç­›é€‰: [å…¨éƒ¨] [è¿›è¡Œä¸­] [å·²é€šè¿‡] [å·²æ‹’ç»]                   â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ ææ¡ˆ #42: å¢åŠ æµåŠ¨æ€§æŒ–çŸ¿å¥–åŠ±                     â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ å‘èµ·äºº: @Alice    çŠ¶æ€: âœ… è¿›è¡Œä¸­                  â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ æŠ•ç¥¨è¿›åº¦:                                           â”‚  â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  75% èµæˆ (750K ç¥¨)          â”‚  â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  20% åå¯¹ (200K ç¥¨)          â”‚  â”‚
â”‚  â”‚ â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   5% å¼ƒæƒ  (50K ç¥¨)          â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ å‰©ä½™æ—¶é—´: 1å¤© 12å°æ—¶  |  æ³•å®šäººæ•°: å·²è¾¾æˆ âœ“        â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ [æŸ¥çœ‹è¯¦æƒ…]  [æŠ•ç¥¨]                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ ææ¡ˆ #41: è°ƒæ•´æ²»ç†å‚æ•°                           â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ å‘èµ·äºº: @Bob      çŠ¶æ€: â° å¾…æŠ•ç¥¨                  â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ å¼€å§‹æ—¶é—´: 23å°æ—¶å                                  â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ [è®¾ç½®æé†’]  [æŸ¥çœ‹è¯¦æƒ…]                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

ç»§ç»­å®Œæˆå‰©ä½™å†…å®¹...<...

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "\u5206\u6790\u8d5b\u9053\u4e00\uff1a\u6784\u5efa\u4e0b\u4e00\u4ee3 Web3 \u751f\u6001\u7cfb\u7edf", "activeForm": "\u5206\u6790\u8d5b\u9053\u4e00\uff1a\u6784\u5efa\u4e0b\u4e00\u4ee3 Web3 \u751f\u6001\u7cfb\u7edf", "status": "completed"}, {"content": "\u5206\u6790\u8d5b\u9053\u4e8c\uff1aBifrost \u6d41\u52a8\u6027\u8d28\u62bc\u521b\u65b0\u4f53\u9a8c", "activeForm": "\u5206\u6790\u8d5b\u9053\u4e8c\uff1aBifrost \u6d41\u52a8\u6027\u8d28\u62bc\u521b\u65b0\u4f53\u9a8c", "status": "in_progress"}, {"content": "\u4e3a\u6bcf\u4e2a\u521b\u610f\u65b9\u5411\u751f\u6210\u8be6\u7ec6\u5206\u6790\u6587\u6863", "activeForm": "\u4e3a\u6bcf\u4e2a\u521b\u610f\u65b9\u5411\u751f\u6210\u8be6\u7ec6\u5206\u6790\u6587\u6863", "status": "pending"}, {"content": "\u751f\u6210\u6280\u672f\u67b6\u6784\u56fe\u548c\u6d41\u7a0b\u56fe", "activeForm": "\u751f\u6210\u6280\u672f\u67b6\u6784\u56fe\u548c\u6d41\u7a0b\u56fe", "status": "pending"}]