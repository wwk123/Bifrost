# èµ›é“äºŒ: Bifrost æµåŠ¨æ€§è´¨æŠ¼åˆ›æ–°ä½“éªŒæŒ‘æˆ˜ - æ·±åº¦åˆ†æ

> **èµ›é¢˜æä¾›æ–¹**: Bifrost
> **æŠ€æœ¯æ ¸å¿ƒ**: æµåŠ¨æ€§è´¨æŠ¼ (Liquid Staking)
> **å¥–é‡‘æ± **: 7,500U å…¬å…±æ±  + 3,500U ä¸“é¡¹å¥–

---

## ğŸ“š ç›®å½•

1. [Bifrost ç”Ÿæ€æ·±åº¦è§£æ](#bifrost-ç”Ÿæ€æ·±åº¦è§£æ)
2. [æµåŠ¨æ€§è´¨æŠ¼æ ¸å¿ƒæ¦‚å¿µ](#æµåŠ¨æ€§è´¨æŠ¼æ ¸å¿ƒæ¦‚å¿µ)
3. [æŠ€æœ¯æ¶æ„ä¸å®ç°](#æŠ€æœ¯æ¶æ„ä¸å®ç°)
4. [åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ](#åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ)
5. [å‰ç«¯UXæœ€ä½³å®è·µ](#å‰ç«¯uxæœ€ä½³å®è·µ)
6. [æˆåŠŸæ¡ˆä¾‹å‚è€ƒ](#æˆåŠŸæ¡ˆä¾‹å‚è€ƒ)

---

## ğŸŒŸ Bifrost ç”Ÿæ€æ·±åº¦è§£æ

### 1.1 ä»€ä¹ˆæ˜¯ Bifrost?

**æ ¸å¿ƒå®šä½**: ä¸“ä¸ºå¤šé“¾ç”Ÿæ€æ‰“é€ çš„æµåŠ¨æ€§è´¨æŠ¼åº”ç”¨é“¾ (Appchain for Liquid Staking)

**Bifrost ç”Ÿæ€æ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Bifrost ç”Ÿæ€å…¨æ™¯                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ç”¨æˆ·å±‚                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ DeFi   â”‚  â”‚ Stakersâ”‚  â”‚Devs    â”‚  â”‚ DAOs   â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ åè®®   â”‚  â”‚ è´¨æŠ¼è€… â”‚  â”‚å¼€å‘è€…  â”‚  â”‚        â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚           â”‚           â”‚           â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Bifrost åº”ç”¨å±‚                              â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚ vToken é“¸é€   â”‚  â”‚  è·¨é“¾æ¡¥      â”‚                â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ - vDOT       â”‚  â”‚ - XCM        â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ - vGLMR      â”‚  â”‚ - Omni       â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ - vASTR      â”‚  â”‚ - LayerZero  â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚ SLP åè®®     â”‚  â”‚  vToken Mintingâ”‚              â”‚   â”‚
â”‚  â”‚  â”‚ (æµåŠ¨æ€§è´¨æŠ¼)  â”‚  â”‚  (é“¸é€ æœºåˆ¶)    â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Bifrost Parachain                         â”‚   â”‚
â”‚  â”‚          (Polkadot å¹³è¡Œé“¾)                         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  - å…±äº«å®‰å…¨æ€§                                       â”‚   â”‚
â”‚  â”‚  - è·¨é“¾äº’æ“ä½œ                                       â”‚   â”‚
â”‚  â”‚  - ä½ Gas è´¹ç”¨                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       åº•å±‚åŒºå—é“¾ç½‘ç»œ                               â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚Polkadot â”‚  â”‚Moonbeam â”‚  â”‚  Astar  â”‚  ...      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.2 æ ¸å¿ƒæŠ€æœ¯ä¼˜åŠ¿

#### ğŸ”¹ SLP (Staking Liquidity Protocol)

**SLP å·¥ä½œåŸç†**:

```
ä¼ ç»Ÿè´¨æŠ¼ vs Bifrost æµåŠ¨æ€§è´¨æŠ¼

ã€ä¼ ç»Ÿè´¨æŠ¼ã€‘
ç”¨æˆ·èµ„äº§ (DOT)
    â†“
è´¨æŠ¼åˆ°éªŒè¯è€…
    â†“
âŒ èµ„äº§é”å®š 28 å¤©
âŒ å¤±å»æµåŠ¨æ€§
âŒ æ— æ³•å‚ä¸ DeFi
âœ… è·å¾—è´¨æŠ¼æ”¶ç›Š (~15% APY)

ã€Bifrost æµåŠ¨æ€§è´¨æŠ¼ã€‘
ç”¨æˆ·èµ„äº§ (DOT)
    â†“
é€šè¿‡ Bifrost è´¨æŠ¼
    â†“
é“¸é€  vDOT (1:1)
    â†“
âœ… ä¿æŒæµåŠ¨æ€§
âœ… å¯åœ¨ DeFi ä¸­ä½¿ç”¨
âœ… è·å¾—è´¨æŠ¼æ”¶ç›Š (~15% APY)
âœ… å¯èƒ½è·å¾—é¢å¤– DeFi æ”¶ç›Š
```

**vToken æœºåˆ¶è¯¦è§£**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            vToken é“¸é€ ä¸èµå›æµç¨‹                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  ã€é“¸é€  vTokenã€‘                                      â”‚
â”‚                                                       â”‚
â”‚  ç”¨æˆ·                                                 â”‚
â”‚   â”‚                                                   â”‚
â”‚   â”‚ 1. å­˜å…¥ 100 DOT                                  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚                          â–¼                       â”‚
â”‚   â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚                  â”‚ Bifrost SLP  â”‚                â”‚
â”‚   â”‚                  â”‚              â”‚                â”‚
â”‚   â”‚                  â”‚ - éªŒè¯äº¤æ˜“   â”‚                â”‚
â”‚   â”‚                  â”‚ - å§”æ‰˜è´¨æŠ¼   â”‚                â”‚
â”‚   â”‚                  â”‚ - é“¸é€  vDOT  â”‚                â”‚
â”‚   â”‚                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚   â”‚                         â”‚                        â”‚
â”‚   â”‚ 2. æ¥æ”¶ 100 vDOT â—„â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚   â”‚                                                   â”‚
â”‚   â”‚ 3. vDOT å¯ç”¨äº:                                  â”‚
â”‚   â”‚    - DEX äº¤æ˜“                                    â”‚
â”‚   â”‚    - å€Ÿè´·æŠµæŠ¼                                    â”‚
â”‚   â”‚    - æµåŠ¨æ€§æŒ–çŸ¿                                  â”‚
â”‚   â”‚    - éšæ—¶èµå›                                    â”‚
â”‚   â”‚                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”       â”‚
â”‚                                                       â”‚
â”‚  ã€èµå›åŸç”Ÿä»£å¸ã€‘                                     â”‚
â”‚                                                       â”‚
â”‚  ç”¨æˆ·                                                 â”‚
â”‚   â”‚                                                   â”‚
â”‚   â”‚ 1. å‘èµ·èµå› 100 vDOT                            â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚                          â–¼                       â”‚
â”‚   â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚                  â”‚ Bifrost SLP  â”‚                â”‚
â”‚   â”‚                  â”‚              â”‚                â”‚
â”‚   â”‚                  â”‚ - é”€æ¯ vDOT  â”‚                â”‚
â”‚   â”‚                  â”‚ - è§£é™¤è´¨æŠ¼   â”‚                â”‚
â”‚   â”‚                  â”‚ - ç­‰å¾…è§£é”æœŸ â”‚                â”‚
â”‚   â”‚                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚   â”‚                         â”‚                        â”‚
â”‚   â”‚                         â”‚ ç­‰å¾… ~28 å¤©             â”‚
â”‚   â”‚                         â”‚                        â”‚
â”‚   â”‚ 2. æ¥æ”¶ 100 DOT + è´¨æŠ¼æ”¶ç›Š â—„â”€â”˜                   â”‚
â”‚   â”‚    (ä¾‹å¦‚: 102 DOT)                               â”‚
â”‚   â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.3 æ”¯æŒçš„èµ„äº§ç±»å‹

**å½“å‰æ”¯æŒçš„ vToken**:

| åŸç”Ÿä»£å¸ | vToken | å¹³è¡Œé“¾ | å¹´åŒ–æ”¶ç›Š (APY) | TVL |
|----------|--------|--------|----------------|-----|
| **DOT** | vDOT | Polkadot | ~15% | $50M+ |
| **GLMR** | vGLMR | Moonbeam | ~12% | $10M+ |
| **ASTR** | vASTR | Astar | ~10% | $8M+ |
| **KSM** | vKSM | Kusama | ~18% | $5M+ |
| **MOVR** | vMOVR | Moonriver | ~14% | $3M+ |

**vToken ä»·å€¼å¢é•¿**:

```
vToken æ±‡ç‡éšæ—¶é—´é€’å¢

åˆå§‹:  1 vDOT = 1 DOT
30å¤©å: 1 vDOT = 1.0125 DOT  (è´¨æŠ¼æ”¶ç›Šç´¯ç§¯)
90å¤©å: 1 vDOT = 1.0375 DOT
1å¹´å:  1 vDOT = 1.15 DOT    (~15% APY)

ç¤ºä¾‹:
ç”¨æˆ·åœ¨ç¬¬0å¤©é“¸é€  100 vDOT (å­˜å…¥ 100 DOT)
90å¤©åèµå›: 100 vDOT â†’ 103.75 DOT (æ”¶ç›Š 3.75 DOT)
```

---

## ğŸ’¡ æµåŠ¨æ€§è´¨æŠ¼æ ¸å¿ƒæ¦‚å¿µ

### 2.1 ä¸ºä»€ä¹ˆéœ€è¦æµåŠ¨æ€§è´¨æŠ¼?

**ä¼ ç»Ÿè´¨æŠ¼çš„ç—›ç‚¹**:

1. **æµåŠ¨æ€§æŸå¤±**
   - âŒ è´¨æŠ¼æœŸé—´æ— æ³•ä½¿ç”¨èµ„äº§
   - âŒ é”™è¿‡å¸‚åœºæœºä¼š (å¦‚ç‰›å¸‚æŠ›å”®)

2. **é•¿è§£é”æœŸ**
   - âŒ Polkadot è§£é”æœŸ 28 å¤©
   - âŒ ç´§æ€¥éœ€æ±‚æ— æ³•å¿«é€Ÿå˜ç°

3. **æœºä¼šæˆæœ¬**
   - âŒ æ— æ³•å‚ä¸ DeFi æ”¶ç›Š
   - âŒ å¤±å»æµåŠ¨æ€§æŒ–çŸ¿æœºä¼š

**æµåŠ¨æ€§è´¨æŠ¼çš„è§£å†³æ–¹æ¡ˆ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æµåŠ¨æ€§è´¨æŠ¼ä»·å€¼ä¸»å¼                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  è´¨æŠ¼æ”¶ç›Š        ä¿æŒæµåŠ¨æ€§      DeFi å åŠ æ”¶ç›Š        â”‚
â”‚     ~15%      +    vToken    +      ~10%            â”‚
â”‚                   å¯äº¤æ˜“                              â”‚
â”‚                                                       â”‚
â”‚                  æ€»æ”¶ç›Š ~25%+                         â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ åŸç”Ÿè´¨æŠ¼    â”‚  â”‚ å³æ—¶æµåŠ¨æ€§  â”‚  â”‚ DeFi æ”¶ç›Š   â”‚  â”‚
â”‚  â”‚ è·å¾—åŸºç¡€    â”‚  â”‚ vToken å¯   â”‚  â”‚ æµåŠ¨æ€§æ±     â”‚  â”‚
â”‚  â”‚ è´¨æŠ¼å¥–åŠ±    â”‚  â”‚ åœ¨ DEX äº¤æ˜“ â”‚  â”‚ å€Ÿè´·æ”¶ç›Š    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.2 æµåŠ¨æ€§è´¨æŠ¼çš„é£é™©

**éœ€è¦æ³¨æ„çš„é£é™©**:

1. **æ™ºèƒ½åˆçº¦é£é™©**
   - åˆçº¦æ¼æ´å¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±
   - ç¼“è§£: ä»£ç å®¡è®¡ + å®‰å…¨ä¿é™©

2. **éªŒè¯è€…é£é™©**
   - éªŒè¯è€… Slash (æƒ©ç½š)
   - ç¼“è§£: Bifrost åˆ†æ•£å§”æ‰˜ç»™å¤šä¸ªéªŒè¯è€…

3. **æ±‡ç‡æŠ˜ä»·é£é™©**
   - vToken å¯èƒ½ä½äº 1:1 æ±‡ç‡äº¤æ˜“
   - ç¼“è§£: å¥—åˆ©æœºåˆ¶ä¿æŒé”šå®š

4. **è·¨é“¾æ¡¥é£é™©**
   - è·¨é“¾èµ„äº§è½¬ç§»é£é™©
   - ç¼“è§£: ä½¿ç”¨ç»è¿‡å®¡è®¡çš„æ¡¥æ¥æ–¹æ¡ˆ

**é£é™©è¯„åˆ†çŸ©é˜µ**:

| é£é™©ç±»å‹ | æ¦‚ç‡ | å½±å“ | é£é™©ç­‰çº§ | ç¼“è§£æªæ–½ |
|---------|------|------|---------|---------|
| æ™ºèƒ½åˆçº¦ | ä½ | é«˜ | ğŸŸ¡ ä¸­ | å¤šæ¬¡å®¡è®¡ + ä¿é™© |
| éªŒè¯è€…Slash | ä¸­ | ä¸­ | ğŸŸ¡ ä¸­ | åˆ†æ•£å§”æ‰˜ |
| æ±‡ç‡è„±é”š | ä½ | ä½ | ğŸŸ¢ ä½ | å¥—åˆ©æœºåˆ¶ |
| è·¨é“¾æ¡¥ | ä½ | é«˜ | ğŸŸ¡ ä¸­ | å®˜æ–¹æ¡¥ + é™é¢ |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„ä¸å®ç°

### 3.1 Bifrost SDK æ¶æ„

**å®Œæ•´æŠ€æœ¯æ ˆ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Bifrost å¼€å‘æŠ€æœ¯æ ˆ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                å‰ç«¯å±‚                              â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  æ¡†æ¶: React / Vue.js / Next.js                   â”‚  â”‚
â”‚  â”‚  UIåº“: TailwindCSS / Chakra UI / Material-UI     â”‚  â”‚
â”‚  â”‚  çŠ¶æ€ç®¡ç†: Zustand / Redux / React Query          â”‚  â”‚
â”‚  â”‚  å›¾è¡¨: Recharts / Chart.js / D3.js               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Web3 äº¤äº’å±‚                              â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚Polkadot.js   â”‚  â”‚ Bifrost.js   â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ API          â”‚  â”‚ SDK          â”‚              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - é’±åŒ…è¿æ¥   â”‚  â”‚ - SLP äº¤äº’   â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - ç­¾åäº¤æ˜“   â”‚  â”‚ - vToken é“¸é€ â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - é“¾ä¸ŠæŸ¥è¯¢   â”‚  â”‚ - è·¨é“¾æ¡¥æ¥   â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            é“¾ä¸Šå±‚                                  â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ Bifrost      â”‚  â”‚ Asset Hub    â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Parachain    â”‚  â”‚ (ä¸­ç»§é“¾)      â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ Moonbeam     â”‚  â”‚  Astar       â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ (EVMå…¼å®¹)     â”‚  â”‚ (dApp Hub)   â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.2 æ ¸å¿ƒ API é›†æˆ

**Bifrost.js SDK ä½¿ç”¨ç¤ºä¾‹**:

```typescript
// å®‰è£…ä¾èµ–
// npm install @bifrost-finance/sdk @polkadot/api

import { BifrostSDK } from '@bifrost-finance/sdk';
import { ApiPromise, WsProvider } from '@polkadot/api';

// 1. åˆå§‹åŒ– Bifrost SDK
async function initBifrost() {
  const provider = new WsProvider('wss://bifrost-polkadot.api.onfinality.io/public-ws');
  const api = await ApiPromise.create({ provider });

  const bifrostSDK = new BifrostSDK(api);

  return bifrostSDK;
}

// 2. é“¸é€  vToken (è´¨æŠ¼)
async function mintVToken(
  sdk: BifrostSDK,
  account: string,
  amount: string // å•ä½: Planck (1 DOT = 10^10 Planck)
) {
  // æ„å»ºäº¤æ˜“
  const tx = sdk.slp.mint({
    token: 'DOT',
    amount: amount,
  });

  // ç­¾åå¹¶å‘é€
  const hash = await tx.signAndSend(account, (result) => {
    if (result.status.isInBlock) {
      console.log(`äº¤æ˜“å·²æ‰“åŒ…: ${result.status.asInBlock}`);
    }

    if (result.status.isFinalized) {
      console.log(`äº¤æ˜“å·²ç¡®è®¤: ${result.status.asFinalized}`);

      // æå–äº‹ä»¶
      result.events.forEach(({ event }) => {
        if (event.method === 'Minted') {
          const [user, vTokenAmount] = event.data;
          console.log(`æˆåŠŸé“¸é€  ${vTokenAmount} vDOT`);
        }
      });
    }
  });

  return hash;
}

// 3. èµå›åŸç”Ÿä»£å¸
async function redeemVToken(
  sdk: BifrostSDK,
  account: string,
  vTokenAmount: string
) {
  const tx = sdk.slp.redeem({
    vToken: 'vDOT',
    amount: vTokenAmount,
  });

  const hash = await tx.signAndSend(account, (result) => {
    if (result.status.isFinalized) {
      console.log('èµå›è¯·æ±‚å·²æäº¤,ç­‰å¾…è§£é”æœŸ...');
    }
  });

  return hash;
}

// 4. æŸ¥è¯¢ç”¨æˆ·ä½™é¢
async function getUserBalances(
  sdk: BifrostSDK,
  account: string
) {
  // æŸ¥è¯¢åŸç”Ÿä»£å¸ä½™é¢
  const dotBalance = await sdk.query.system.account(account);
  console.log(`DOT ä½™é¢: ${dotBalance.data.free.toString()}`);

  // æŸ¥è¯¢ vToken ä½™é¢
  const vDotBalance = await sdk.query.tokens.accounts(account, { Token: 'vDOT' });
  console.log(`vDOT ä½™é¢: ${vDotBalance.free.toString()}`);

  return {
    dot: dotBalance.data.free.toString(),
    vDot: vDotBalance.free.toString(),
  };
}

// 5. æŸ¥è¯¢ vToken æ±‡ç‡
async function getVTokenExchangeRate(sdk: BifrostSDK) {
  // vToken å¯¹åŸç”Ÿä»£å¸çš„æ±‡ç‡
  const rate = await sdk.slp.getExchangeRate('DOT');

  console.log(`1 vDOT = ${rate} DOT`);

  return rate;
}

// 6. æŸ¥è¯¢è´¨æŠ¼æ”¶ç›Š
async function getStakingRewards(
  sdk: BifrostSDK,
  account: string
) {
  // è®¡ç®—ç´¯è®¡æ”¶ç›Š
  const vDotBalance = await sdk.query.tokens.accounts(account, { Token: 'vDOT' });
  const rate = await sdk.slp.getExchangeRate('DOT');

  const initialDOT = parseFloat(vDotBalance.free.toString()) / 1e10;
  const currentDOT = initialDOT * rate;
  const rewards = currentDOT - initialDOT;

  console.log(`ç´¯è®¡è´¨æŠ¼æ”¶ç›Š: ${rewards.toFixed(4)} DOT`);

  return rewards;
}

// 7. è·¨é“¾è½¬ç§» vToken (é€šè¿‡ XCM)
async function crossChainTransfer(
  sdk: BifrostSDK,
  account: string,
  destChain: string, // 'Moonbeam', 'Astar', etc.
  amount: string
) {
  const tx = sdk.xcm.transfer({
    token: 'vDOT',
    amount: amount,
    dest: {
      chain: destChain,
      account: account,
    },
  });

  const hash = await tx.signAndSend(account);

  return hash;
}
```

---

### 3.3 å‰ç«¯ React Hooks å°è£…

**è‡ªå®šä¹‰ Hooks åº“**:

```typescript
// hooks/useBifrost.ts
import { useState, useEffect } from 'react';
import { BifrostSDK } from '@bifrost-finance/sdk';

export function useBifrost() {
  const [sdk, setSdk] = useState<BifrostSDK | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    async function init() {
      try {
        const bifrostSDK = await initBifrost();
        setSdk(bifrostSDK);
      } catch (e) {
        setError(e as Error);
      } finally {
        setLoading(false);
      }
    }

    init();
  }, []);

  return { sdk, loading, error };
}

// hooks/useVTokenBalance.ts
export function useVTokenBalance(account: string | null, token: 'vDOT' | 'vGLMR' | 'vASTR') {
  const { sdk } = useBifrost();
  const [balance, setBalance] = useState<string>('0');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (!sdk || !account) return;

    async function fetchBalance() {
      setLoading(true);
      try {
        const result = await sdk.query.tokens.accounts(account, { Token: token });
        setBalance(result.free.toString());
      } catch (e) {
        console.error('è·å–ä½™é¢å¤±è´¥:', e);
      } finally {
        setLoading(false);
      }
    }

    fetchBalance();

    // è®¢é˜…ä½™é¢å˜åŒ–
    const unsub = sdk.query.tokens.accounts(account, { Token: token }, (result) => {
      setBalance(result.free.toString());
    });

    return () => {
      unsub.then(u => u());
    };
  }, [sdk, account, token]);

  return { balance, loading };
}

// hooks/useMintVToken.ts
export function useMintVToken() {
  const { sdk } = useBifrost();
  const [minting, setMinting] = useState(false);
  const [error, setError] = useState<Error | null>(null);

  const mint = async (account: string, amount: string) => {
    if (!sdk) throw new Error('SDK not initialized');

    setMinting(true);
    setError(null);

    try {
      const hash = await mintVToken(sdk, account, amount);
      return hash;
    } catch (e) {
      setError(e as Error);
      throw e;
    } finally {
      setMinting(false);
    }
  };

  return { mint, minting, error };
}

// hooks/useExchangeRate.ts
export function useExchangeRate(token: 'DOT' | 'GLMR' | 'ASTR') {
  const { sdk } = useBifrost();
  const [rate, setRate] = useState<number>(1);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (!sdk) return;

    async function fetchRate() {
      try {
        const exchangeRate = await sdk.slp.getExchangeRate(token);
        setRate(exchangeRate);
      } catch (e) {
        console.error('è·å–æ±‡ç‡å¤±è´¥:', e);
      } finally {
        setLoading(false);
      }
    }

    fetchRate();

    // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ±‡ç‡
    const interval = setInterval(fetchRate, 60000);

    return () => clearInterval(interval);
  }, [sdk, token]);

  return { rate, loading };
}
```

---

## ğŸ¨ åˆ›æ„æ–¹å‘è¯¦ç»†åˆ†æ

### æ–¹å‘ä¸€: è´¨æŠ¼æ”¶ç›Šä»ªè¡¨ç›˜

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
ä¸º Bifrost ç”¨æˆ·æä¾›ç›´è§‚ã€å®æ—¶çš„è´¨æŠ¼æ”¶ç›Šè¿½è¸ªå’Œå¤šé“¾èµ„äº§ç®¡ç†ä»ªè¡¨ç›˜ã€‚

**è§£å†³çš„ç—›ç‚¹**:
- âŒ ç”¨æˆ·éš¾ä»¥è¿½è¸ªè·¨å¤šé“¾çš„è´¨æŠ¼æ”¶ç›Š
- âŒ ç¼ºä¹å†å²æ•°æ®å’Œè¶‹åŠ¿åˆ†æ
- âŒ æ— æ³•æ¯”è¾ƒä¸åŒ vToken çš„æ”¶ç›Šè¡¨ç°
- âŒ ç¨åŠ¡æŠ¥å‘Šå›°éš¾

---

#### ğŸ¨ UI/UX è®¾è®¡

**ä¸»ä»ªè¡¨ç›˜ç•Œé¢**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bifrost è´¨æŠ¼ä»ªè¡¨ç›˜               [è¿æ¥é’±åŒ…] [@AliceStaker]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  æ€»è´¨æŠ¼ä»·å€¼                         æ€»æ”¶ç›Š (æœ¬æœˆ)                  â”‚
â”‚  $125,450.32                        +$1,234.56 â†‘ +0.98%          â”‚
â”‚  â‰ˆ 10,250 DOT                                                    â”‚
â”‚                                                                    â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                    â”‚
â”‚  èµ„äº§åˆ†å¸ƒ                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚    ğŸ“Š é¥¼å›¾å±•ç¤º                                               â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚        vDOT (60%)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                             â”‚  â”‚
â”‚  â”‚        vGLMR (25%) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                    â”‚  â”‚
â”‚  â”‚        vASTR (15%) â–ˆâ–ˆâ–ˆ                                      â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  vToken è¯¦æƒ…                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ vDOT  ğŸ’                                                     â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚ æŒæœ‰é‡       â”‚ å½“å‰ä»·å€¼     â”‚ APY          â”‚ æ—¥æ”¶ç›Š   â”‚  â”‚  â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚ â”‚ 6,150 vDOT   â”‚ $75,270      â”‚ 15.2% ğŸ”¥    â”‚ +$31.25  â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ ğŸ“ˆ æ”¶ç›Šè¶‹åŠ¿ (30å¤©)                                           â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚  $950                                          â•±         â”‚ â”‚  â”‚
â”‚  â”‚ â”‚              â•±â”€â”€â”€â•²                        â•±             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚         â•±â”€â”€â”€â•±     â•²â”€â”€â•²               â•±â”€â”€â•±               â”‚ â”‚  â”‚
â”‚  â”‚ â”‚    â•±â”€â”€â”€â•±               â•²â”€â”€â•²     â•±â”€â”€â”€â•±                   â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â•±â”€â”€â•±                       â•²â”€â”€â”€â•±                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚  $0                                                      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚  1æ—¥   7æ—¥   14æ—¥   21æ—¥   28æ—¥                         â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ [ğŸ“¥ æ·»åŠ è´¨æŠ¼] [ğŸ“¤ èµå›] [ğŸ“Š è¯¦ç»†æŠ¥å‘Š]                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ vGLMR ğŸŒ™                                                    â”‚  â”‚
â”‚  â”‚ æŒæœ‰é‡: 20,500 vGLMR | ä»·å€¼: $31,362 | APY: 12.1%          â”‚  â”‚
â”‚  â”‚ [å±•å¼€è¯¦æƒ…]                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ vASTR â­                                                    â”‚  â”‚
â”‚  â”‚ æŒæœ‰é‡: 75,000 vASTR | ä»·å€¼: $18,750 | APY: 10.5%          â”‚  â”‚
â”‚  â”‚ [å±•å¼€è¯¦æƒ…]                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                    â”‚
â”‚  è¿‘æœŸäº¤æ˜“                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2025-10-24 14:32  âœ… é“¸é€   +500 vDOT    â‰ˆ $6,125           â”‚  â”‚
â”‚  â”‚ 2025-10-23 09:15  ğŸ“¤ èµå›  -200 vGLMR   â‰ˆ $306             â”‚  â”‚
â”‚  â”‚ 2025-10-22 16:45  âœ… é“¸é€   +1000 vASTR  â‰ˆ $250             â”‚  â”‚
â”‚  â”‚ [æŸ¥çœ‹å…¨éƒ¨]                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  [ğŸ’¾ å¯¼å‡ºCSV] [ğŸ“Š ç”Ÿæˆç¨åŠ¡æŠ¥å‘Š] [âš™ï¸ è®¾ç½®]                       â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’» æ ¸å¿ƒåŠŸèƒ½å®ç°

**1. å®æ—¶æ•°æ®èšåˆ**

```typescript
// components/Dashboard.tsx
import { useVTokenBalances } from '@/hooks/useVTokenBalances';
import { useExchangeRates } from '@/hooks/useExchangeRates';
import { usePrices } from '@/hooks/usePrices';

export function Dashboard() {
  const { account } = useWallet();

  // è·å–æ‰€æœ‰ vToken ä½™é¢
  const balances = useVTokenBalances(account, ['vDOT', 'vGLMR', 'vASTR']);

  // è·å–æ±‡ç‡
  const rates = useExchangeRates(['DOT', 'GLMR', 'ASTR']);

  // è·å–ä»·æ ¼ (USD)
  const prices = usePrices(['DOT', 'GLMR', 'ASTR']);

  // è®¡ç®—æ€»ä»·å€¼
  const totalValue = useMemo(() => {
    if (!balances || !rates || !prices) return 0;

    let sum = 0;

    // vDOT ä»·å€¼
    const vDotAmount = parseFloat(balances.vDOT) / 1e10;
    const dotEquivalent = vDotAmount * rates.DOT;
    sum += dotEquivalent * prices.DOT;

    // vGLMR ä»·å€¼
    const vGlmrAmount = parseFloat(balances.vGLMR) / 1e18;
    const glmrEquivalent = vGlmrAmount * rates.GLMR;
    sum += glmrEquivalent * prices.GLMR;

    // vASTR ä»·å€¼
    const vAstrAmount = parseFloat(balances.vASTR) / 1e18;
    const astrEquivalent = vAstrAmount * rates.ASTR;
    sum += astrEquivalent * prices.ASTR;

    return sum;
  }, [balances, rates, prices]);

  return (
    <div className="dashboard">
      <h1>æ€»è´¨æŠ¼ä»·å€¼</h1>
      <p className="text-4xl font-bold">${totalValue.toLocaleString()}</p>

      {/* èµ„äº§åˆ†å¸ƒé¥¼å›¾ */}
      <AssetDistribution balances={balances} rates={rates} prices={prices} />

      {/* vToken åˆ—è¡¨ */}
      <VTokenList balances={balances} rates={rates} prices={prices} />
    </div>
  );
}
```

**2. æ”¶ç›Šè¶‹åŠ¿å›¾è¡¨**

```typescript
// components/YieldChart.tsx
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';
import { useYieldHistory } from '@/hooks/useYieldHistory';

export function YieldChart({ vToken }: { vToken: string }) {
  const { data, loading } = useYieldHistory(vToken, 30); // 30å¤©å†å²

  if (loading) return <div>åŠ è½½ä¸­...</div>;

  return (
    <ResponsiveContainer width="100%" height={300}>
      <LineChart data={data}>
        <XAxis dataKey="date" />
        <YAxis />
        <Tooltip
          content={({ active, payload }) => {
            if (active && payload?.[0]) {
              return (
                <div className="bg-white p-2 shadow rounded">
                  <p className="font-semibold">{payload[0].payload.date}</p>
                  <p className="text-green-600">
                    æ”¶ç›Š: ${payload[0].value?.toFixed(2)}
                  </p>
                </div>
              );
            }
            return null;
          }}
        />
        <Line
          type="monotone"
          dataKey="earnings"
          stroke="#10b981"
          strokeWidth={2}
          dot={false}
        />
      </LineChart>
    </ResponsiveContainer>
  );
}

// hooks/useYieldHistory.ts
export function useYieldHistory(vToken: string, days: number) {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchHistory() {
      // ä»é“¾ä¸Šæˆ–åç«¯ API è·å–å†å²æ•°æ®
      const history = await fetchVTokenHistory(vToken, days);

      // æ ¼å¼åŒ–æ•°æ®
      const formatted = history.map((entry, index) => ({
        date: formatDate(entry.timestamp),
        earnings: calculateEarnings(entry, history[0]),
      }));

      setData(formatted);
      setLoading(false);
    }

    fetchHistory();
  }, [vToken, days]);

  return { data, loading };
}
```

**3. ç¨åŠ¡æŠ¥å‘Šç”Ÿæˆ**

```typescript
// utils/taxReport.ts
export async function generateTaxReport(
  account: string,
  startDate: Date,
  endDate: Date
) {
  // è·å–æ‰€æœ‰äº¤æ˜“è®°å½•
  const transactions = await fetchTransactions(account, startDate, endDate);

  // è®¡ç®—æ”¶ç›Š
  const report = {
    totalEarnings: 0,
    stakingRewards: 0,
    transactions: [],
  };

  transactions.forEach(tx => {
    if (tx.type === 'mint') {
      report.transactions.push({
        date: tx.timestamp,
        type: 'è´¨æŠ¼',
        amount: `${tx.amount} ${tx.token}`,
        value: tx.usdValue,
      });
    } else if (tx.type === 'redeem') {
      // è®¡ç®—æ”¶ç›Š
      const initialValue = tx.initialAmount * tx.initialPrice;
      const finalValue = tx.finalAmount * tx.finalPrice;
      const earnings = finalValue - initialValue;

      report.totalEarnings += earnings;
      report.stakingRewards += earnings;

      report.transactions.push({
        date: tx.timestamp,
        type: 'èµå›',
        amount: `${tx.amount} ${tx.vToken}`,
        value: tx.usdValue,
        earnings: earnings,
      });
    }
  });

  // å¯¼å‡º CSV
  exportToCSV(report);

  return report;
}

function exportToCSV(report) {
  const csv = [
    ['æ—¥æœŸ', 'ç±»å‹', 'æ•°é‡', 'ä»·å€¼ (USD)', 'æ”¶ç›Š (USD)'],
    ...report.transactions.map(tx => [
      tx.date,
      tx.type,
      tx.amount,
      tx.value,
      tx.earnings || '-',
    ]),
    [],
    ['æ€»æ”¶ç›Š', '', '', '', report.totalEarnings],
  ]
    .map(row => row.join(','))
    .join('\n');

  // ä¸‹è½½ CSV æ–‡ä»¶
  const blob = new Blob([csv], { type: 'text/csv' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `bifrost-tax-report-${Date.now()}.csv`;
  a.click();
}
```

---

#### ğŸ† åˆ›æ–°ç‚¹

1. **å¤šé“¾èšåˆè§†å›¾**
   - ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ vToken
   - è·¨é“¾èµ„äº§ä¸€ç›®äº†ç„¶

2. **å®æ—¶æ”¶ç›Šè¿½è¸ª**
   - æ¯ç§’æ›´æ–°æ±‡ç‡
   - å®æ—¶è®¡ç®—æ”¶ç›Š

3. **æ™ºèƒ½æé†’**
   - APY å˜åŒ–é€šçŸ¥
   - æœ€ä¼˜èµå›æ—¶æœºæç¤º

4. **ç¨åŠ¡åˆè§„**
   - ä¸€é”®ç”Ÿæˆç¨åŠ¡æŠ¥å‘Š
   - ç¬¦åˆå„å›½ç¨åŠ¡è¦æ±‚

---

### æ–¹å‘äºŒ: ä¸€é”®å¤šé“¾è´¨æŠ¼èšåˆå¹³å°

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
ç®€åŒ–å¤šé“¾è´¨æŠ¼æµç¨‹,ç”¨æˆ·åªéœ€ä¸€æ¬¡æ“ä½œå³å¯å°†èµ„äº§åˆ†é…åˆ°å¤šæ¡é“¾çš„æœ€ä¼˜è´¨æŠ¼ç­–ç•¥ã€‚

**ç›®æ ‡ç”¨æˆ·**:
- DeFi æ–°æ‰‹ (ç®€åŒ–æ“ä½œ)
- å¤§é¢æŠ•èµ„è€… (åˆ†æ•£é£é™©)
- è¿½æ±‚æœ€ä¼˜æ”¶ç›Šè€…

---

#### ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ä¸€é”®å¤šé“¾è´¨æŠ¼èšåˆå¹³å°æ¶æ„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  ç”¨æˆ·è¾“å…¥                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æŠ•èµ„é‡‘é¢: 10,000 DOT                            â”‚    â”‚
â”‚  â”‚  é£é™©åå¥½: å¹³è¡¡                                  â”‚    â”‚
â”‚  â”‚  âœ“ è‡ªåŠ¨å†æŠ•èµ„                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                   â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         æ™ºèƒ½åˆ†é…å¼•æ“                             â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚  1. è·å–æ‰€æœ‰å¯ç”¨é“¾çš„ APY                        â”‚    â”‚
â”‚  â”‚  2. è¯„ä¼°é£é™©ç­‰çº§                                â”‚    â”‚
â”‚  â”‚  3. è®¡ç®—æœ€ä¼˜åˆ†é…æ¯”ä¾‹                            â”‚    â”‚
â”‚  â”‚  4. è€ƒè™‘ Gas æˆæœ¬                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                   â”‚                                       â”‚
â”‚  æ¨èé…ç½®         â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  40% â†’ vDOT  (Polkadot)    APY: 15.2%          â”‚    â”‚
â”‚  â”‚  35% â†’ vGLMR (Moonbeam)    APY: 12.1%          â”‚    â”‚
â”‚  â”‚  25% â†’ vASTR (Astar)       APY: 10.5%          â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚  é¢„æœŸç»¼åˆ APY: 13.2%                            â”‚    â”‚
â”‚  â”‚  é¢„ä¼°å¹´æ”¶ç›Š: 1,320 DOT                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                   â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         æ‰¹é‡æ‰§è¡Œå¼•æ“                             â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚  å¹¶è¡Œæ‰§è¡Œ:                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ 4,000 DOT â†’ Bifrost â†’ vDOT                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ è·¨é“¾æ¡¥æ¥ 3,500 DOT â†’ Moonbeam              â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€ è½¬æ¢ä¸º GLMR â†’ vGLMR                     â”‚    â”‚
â”‚  â”‚  â””â”€ è·¨é“¾æ¡¥æ¥ 2,500 DOT â†’ Astar                 â”‚    â”‚
â”‚  â”‚     â””â”€ è½¬æ¢ä¸º ASTR â†’ vASTR                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’» æ ¸å¿ƒä»£ç å®ç°

**æ™ºèƒ½åˆ†é…ç®—æ³•**:

```typescript
// services/allocationService.ts

interface AllocationStrategy {
  chain: string;
  vToken: string;
  percentage: number;
  apy: number;
  risk: number; // 1-5
  amount: bigint;
}

export class AllocationService {
  /**
   * è®¡ç®—æœ€ä¼˜åˆ†é…ç­–ç•¥
   */
  async calculateOptimalAllocation(
    totalAmount: bigint,
    riskTolerance: 'conservative' | 'balanced' | 'aggressive'
  ): Promise<AllocationStrategy[]> {
    // 1. è·å–æ‰€æœ‰é“¾çš„å½“å‰ APY å’Œé£é™©è¯„åˆ†
    const opportunities = await this.fetchAllOpportunities();

    // 2. æ ¹æ®é£é™©åå¥½è¿‡æ»¤
    const filtered = this.filterByRisk(opportunities, riskTolerance);

    // 3. ä¼˜åŒ–åˆ†é… (ä½¿ç”¨ç°ä»£æŠ•èµ„ç»„åˆç†è®º - MPT)
    const allocation = this.optimizePortfolio(filtered, totalAmount);

    return allocation;
  }

  /**
   * è·å–æ‰€æœ‰è´¨æŠ¼æœºä¼š
   */
  private async fetchAllOpportunities() {
    const [dotAPY, glmrAPY, astrAPY] = await Promise.all([
      this.getAPY('DOT'),
      this.getAPY('GLMR'),
      this.getAPY('ASTR'),
    ]);

    return [
      { chain: 'Polkadot', vToken: 'vDOT', apy: dotAPY, risk: 2, liquidity: 50000000 },
      { chain: 'Moonbeam', vToken: 'vGLMR', apy: glmrAPY, risk: 3, liquidity: 10000000 },
      { chain: 'Astar', vToken: 'vASTR', apy: astrAPY, risk: 3, liquidity: 8000000 },
    ];
  }

  /**
   * ç°ä»£æŠ•èµ„ç»„åˆç†è®ºä¼˜åŒ–
   */
  private optimizePortfolio(
    opportunities: any[],
    totalAmount: bigint
  ): AllocationStrategy[] {
    // æŒ‰ APY æ’åº
    opportunities.sort((a, b) => b.apy - a.apy);

    const allocation: AllocationStrategy[] = [];
    let remaining = totalAmount;

    // åˆ†é…ç­–ç•¥:
    // 1. é«˜æ”¶ç›Šèµ„äº§åˆ†é…æ›´å¤š
    // 2. ç¡®ä¿å¤šå…ƒåŒ– (ä¸è¶…è¿‡ 50% å•ä¸€èµ„äº§)
    // 3. è€ƒè™‘æµåŠ¨æ€§é™åˆ¶

    const totalAPY = opportunities.reduce((sum, opp) => sum + opp.apy, 0);

    opportunities.forEach((opp, index) => {
      // æŒ‰ APY åŠ æƒåˆ†é…
      let percentage = (opp.apy / totalAPY) * 100;

      // é™åˆ¶å•ä¸€èµ„äº§æœ€å¤š 50%
      percentage = Math.min(percentage, 50);

      // è‡³å°‘åˆ†é… 10% (å¦‚æœæœ‰å‰©ä½™)
      if (index < opportunities.length - 1 && percentage < 10) {
        percentage = 10;
      }

      const amount = (remaining * BigInt(Math.floor(percentage * 100))) / 10000n;

      allocation.push({
        chain: opp.chain,
        vToken: opp.vToken,
        percentage: percentage,
        apy: opp.apy,
        risk: opp.risk,
        amount: amount,
      });

      remaining -= amount;
    });

    // å‰©ä½™é‡‘é¢åˆ†é…ç»™æœ€é«˜ APY
    if (remaining > 0n) {
      allocation[0].amount += remaining;
    }

    return allocation;
  }

  /**
   * æ‰§è¡Œæ‰¹é‡è´¨æŠ¼
   */
  async executeBatchStaking(
    allocation: AllocationStrategy[],
    account: string
  ) {
    const results = [];

    // å¹¶è¡Œæ‰§è¡Œæ‰€æœ‰è´¨æŠ¼æ“ä½œ
    const promises = allocation.map(async (strategy) => {
      try {
        // 1. è·¨é“¾æ¡¥æ¥ (å¦‚éœ€è¦)
        if (strategy.chain !== 'Polkadot') {
          await this.crossChainBridge(account, strategy.chain, strategy.amount);
        }

        // 2. é“¸é€  vToken
        const hash = await this.mintVToken(account, strategy.vToken, strategy.amount);

        results.push({
          chain: strategy.chain,
          vToken: strategy.vToken,
          amount: strategy.amount,
          status: 'success',
          txHash: hash,
        });
      } catch (error) {
        results.push({
          chain: strategy.chain,
          vToken: strategy.vToken,
          amount: strategy.amount,
          status: 'failed',
          error: error.message,
        });
      }
    });

    await Promise.all(promises);

    return results;
  }
}
```

---

#### ğŸ¨ ç”¨æˆ·ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸€é”®å¤šé“¾è´¨æŠ¼                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  æŠ•èµ„é‡‘é¢                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [10000] DOT                      â‰ˆ $122,500     â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  [ä½¿ç”¨å…¨éƒ¨ä½™é¢]                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                            â”‚
â”‚  é£é™©åå¥½                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â—¯ ä¿å®ˆ (ä½é£é™©,8-10% APY)                       â”‚    â”‚
â”‚  â”‚  â—‰ å¹³è¡¡ (ä¸­é£é™©,12-15% APY)                      â”‚    â”‚
â”‚  â”‚  â—¯ æ¿€è¿› (é«˜é£é™©,15-20% APY)                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                            â”‚
â”‚  é«˜çº§é€‰é¡¹                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  âœ“ è‡ªåŠ¨å†æŠ•èµ„æ”¶ç›Š                                â”‚    â”‚
â”‚  â”‚  âœ“ åŠ¨æ€è°ƒæ•´åˆ†é… (æ ¹æ® APY å˜åŒ–)                  â”‚    â”‚
â”‚  â”‚  â—¯ æ‰‹åŠ¨é€‰æ‹©é“¾                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                            â”‚
â”‚  [ğŸ” ç”Ÿæˆæœ€ä¼˜æ–¹æ¡ˆ]                                        â”‚
â”‚                                                            â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”    â”‚
â”‚                                                            â”‚
â”‚  æ¨èé…ç½®                                                  â”‚
â”‚  é¢„æœŸç»¼åˆ APY: 13.2%  |  é¢„ä¼°å¹´æ”¶ç›Š: 1,320 DOT           â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“Š 40% â†’ Polkadot (vDOT)                        â”‚    â”‚
â”‚  â”‚     4,000 DOT â†’ APY 15.2%                        â”‚    â”‚
â”‚  â”‚     é¢„è®¡å¹´æ”¶ç›Š: 608 DOT                          â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  ğŸ“Š 35% â†’ Moonbeam (vGLMR)                       â”‚    â”‚
â”‚  â”‚     3,500 DOT â†’ APY 12.1%                        â”‚    â”‚
â”‚  â”‚     é¢„è®¡å¹´æ”¶ç›Š: 423.5 DOT                        â”‚    â”‚
â”‚  â”‚     âš ï¸ éœ€è¦è·¨é“¾æ¡¥æ¥ (~5åˆ†é’Ÿ, Gas: $2)            â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  ğŸ“Š 25% â†’ Astar (vASTR)                          â”‚    â”‚
â”‚  â”‚     2,500 DOT â†’ APY 10.5%                        â”‚    â”‚
â”‚  â”‚     é¢„è®¡å¹´æ”¶ç›Š: 262.5 DOT                        â”‚    â”‚
â”‚  â”‚     âš ï¸ éœ€è¦è·¨é“¾æ¡¥æ¥ (~5åˆ†é’Ÿ, Gas: $2)            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                            â”‚
â”‚  æ€» Gas è´¹ç”¨: ~$4                                         â”‚
â”‚  é¢„è®¡å®Œæˆæ—¶é—´: 10-15åˆ†é’Ÿ                                  â”‚
â”‚                                                            â”‚
â”‚  [âœ“ æ‰§è¡Œè´¨æŠ¼]  [ğŸ”„ é‡æ–°è®¡ç®—]  [ğŸ“ è‡ªå®šä¹‰]                â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ–¹å‘ä¸‰: è´¨æŠ¼ä»£å¸äº¤æ˜“å¸‚åœº

#### ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
ä¸º vToken æä¾›ä¸“é—¨çš„äº¤æ˜“å¸‚åœº,æ”¯æŒå³æ—¶ä¹°å–ã€é™ä»·å•ã€æµåŠ¨æ€§æ± ç­‰åŠŸèƒ½ã€‚

**è§£å†³çš„ç—›ç‚¹**:
- âŒ vToken æµåŠ¨æ€§åˆ†æ•£åœ¨å¤šä¸ª DEX
- âŒ ç¼ºä¹ä¸“ä¸šçš„ vToken äº¤æ˜“å·¥å…·
- âŒ æ±‡ç‡å‘ç°æœºåˆ¶ä¸å®Œå–„
- âŒ å¤§é¢äº¤æ˜“æ»‘ç‚¹é«˜

---

#### ğŸ—ï¸ äº¤æ˜“å¸‚åœºæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              vToken äº¤æ˜“å¸‚åœºæ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              äº¤æ˜“ç•Œé¢å±‚                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚ç°è´§äº¤æ˜“  â”‚  â”‚é™ä»·å•    â”‚  â”‚æµåŠ¨æ€§æ±   â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            è®¢å•ç°¿ & æ’®åˆå¼•æ“                       â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  ä¹°å•é˜Ÿåˆ—          è®¢å•æ’®åˆ          å–å•é˜Ÿåˆ—      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ 12.5 â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”¤ Matchâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ 12.6 â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ 12.4 â”‚         â”‚Engineâ”‚         â”‚ 12.7 â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ 12.3 â”‚         â””â”€â”€â”€â”€â”€â”€â”˜         â”‚ 12.8 â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              æ™ºèƒ½åˆçº¦å±‚                            â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ äº¤æ˜“åˆçº¦     â”‚  â”‚  æµåŠ¨æ€§æ±     â”‚              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - å¸‚ä»·å•     â”‚  â”‚ - AMM æœºåˆ¶   â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - é™ä»·å•     â”‚  â”‚ - LP å¥–åŠ±    â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ - æ‰‹ç»­è´¹     â”‚  â”‚ - å¥—åˆ©ä¿æŠ¤   â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ’» æ ¸å¿ƒåŠŸèƒ½å®ç°

**è®¢å•ç°¿åˆçº¦**:

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

/**
 * @title VTokenOrderBook
 * @dev vToken ä¸“ç”¨è®¢å•ç°¿äº¤æ˜“æ‰€
 */
contract VTokenOrderBook {
    struct Order {
        uint256 id;
        address trader;
        address vToken;      // vDOT, vGLMR, etc.
        address baseToken;   // DOT, GLMR, etc.
        bool isBuy;
        uint256 price;       // ä»·æ ¼ (åŸºç‚¹)
        uint256 amount;
        uint256 filled;
        uint256 timestamp;
        bool isActive;
    }

    // è®¢å• ID è®¡æ•°å™¨
    uint256 public orderIdCounter;

    // æ˜ å°„: orderId => Order
    mapping(uint256 => Order) public orders;

    // æ˜ å°„: vToken => price => orderIds (ä¹°å•)
    mapping(address => mapping(uint256 => uint256[])) public buyOrders;

    // æ˜ å°„: vToken => price => orderIds (å–å•)
    mapping(address => mapping(uint256 => uint256[])) public sellOrders;

    // æ‰‹ç»­è´¹ç‡ (åŸºç‚¹, 10000 = 100%)
    uint256 public feeRate = 30; // 0.3%

    event OrderPlaced(
        uint256 indexed orderId,
        address indexed trader,
        address vToken,
        bool isBuy,
        uint256 price,
        uint256 amount
    );

    event OrderMatched(
        uint256 indexed buyOrderId,
        uint256 indexed sellOrderId,
        uint256 matchedAmount,
        uint256 matchedPrice
    );

    event OrderCanceled(uint256 indexed orderId);

    /**
     * @dev ä¸‹é™ä»·å•
     */
    function placeLimitOrder(
        address vToken,
        address baseToken,
        bool isBuy,
        uint256 price,
        uint256 amount
    ) external returns (uint256) {
        require(amount > 0, "Amount must be > 0");
        require(price > 0, "Price must be > 0");

        // è½¬ç§»ä»£å¸åˆ°åˆçº¦
        if (isBuy) {
            // ä¹°å•: è½¬ç§» baseToken
            IERC20(baseToken).transferFrom(
                msg.sender,
                address(this),
                amount * price / 10000
            );
        } else {
            // å–å•: è½¬ç§» vToken
            IERC20(vToken).transferFrom(msg.sender, address(this), amount);
        }

        // åˆ›å»ºè®¢å•
        orderIdCounter++;
        uint256 orderId = orderIdCounter;

        orders[orderId] = Order({
            id: orderId,
            trader: msg.sender,
            vToken: vToken,
            baseToken: baseToken,
            isBuy: isBuy,
            price: price,
            amount: amount,
            filled: 0,
            timestamp: block.timestamp,
            isActive: true
        });

        // æ·»åŠ åˆ°è®¢å•ç°¿
        if (isBuy) {
            buyOrders[vToken][price].push(orderId);
        } else {
            sellOrders[vToken][price].push(orderId);
        }

        emit OrderPlaced(orderId, msg.sender, vToken, isBuy, price, amount);

        // å°è¯•æ’®åˆ
        _matchOrders(vToken);

        return orderId;
    }

    /**
     * @dev å¸‚ä»·å• (ç«‹å³æˆäº¤)
     */
    function placeMarketOrder(
        address vToken,
        address baseToken,
        bool isBuy,
        uint256 amount
    ) external {
        // å¸‚ä»·å•ç›´æ¥ä¸è®¢å•ç°¿æœ€ä¼˜ä»·æ ¼æ’®åˆ
        if (isBuy) {
            _fillMarketBuy(vToken, baseToken, amount);
        } else {
            _fillMarketSell(vToken, baseToken, amount);
        }
    }

    /**
     * @dev æ’®åˆè®¢å•
     */
    function _matchOrders(address vToken) private {
        // è·å–æœ€ä¼˜ä¹°å–ä»·
        uint256 bestBuyPrice = _getBestBuyPrice(vToken);
        uint256 bestSellPrice = _getBestSellPrice(vToken);

        // å¦‚æœä¹°ä»· >= å–ä»·,å¯ä»¥æ’®åˆ
        while (bestBuyPrice >= bestSellPrice && bestSellPrice > 0) {
            uint256[] storage buyOrderIds = buyOrders[vToken][bestBuyPrice];
            uint256[] storage sellOrderIds = sellOrders[vToken][bestSellPrice];

            if (buyOrderIds.length == 0 || sellOrderIds.length == 0) break;

            // å–ç¬¬ä¸€ä¸ªä¹°å•å’Œå–å•
            uint256 buyOrderId = buyOrderIds[0];
            uint256 sellOrderId = sellOrderIds[0];

            Order storage buyOrder = orders[buyOrderId];
            Order storage sellOrder = orders[sellOrderId];

            // è®¡ç®—å¯æˆäº¤æ•°é‡
            uint256 buyRemaining = buyOrder.amount - buyOrder.filled;
            uint256 sellRemaining = sellOrder.amount - sellOrder.filled;
            uint256 matchAmount = buyRemaining < sellRemaining
                ? buyRemaining
                : sellRemaining;

            // æ‰§è¡Œäº¤æ˜“
            _executeTrade(buyOrder, sellOrder, matchAmount, bestSellPrice);

            // æ›´æ–°è®¢å•çŠ¶æ€
            buyOrder.filled += matchAmount;
            sellOrder.filled += matchAmount;

            if (buyOrder.filled == buyOrder.amount) {
                buyOrder.isActive = false;
                _removeOrder(buyOrderIds, 0);
            }

            if (sellOrder.filled == sellOrder.amount) {
                sellOrder.isActive = false;
                _removeOrder(sellOrderIds, 0);
            }

            emit OrderMatched(buyOrderId, sellOrderId, matchAmount, bestSellPrice);

            // æ›´æ–°æœ€ä¼˜ä»·æ ¼
            bestBuyPrice = _getBestBuyPrice(vToken);
            bestSellPrice = _getBestSellPrice(vToken);
        }
    }

    /**
     * @dev æ‰§è¡Œäº¤æ˜“
     */
    function _executeTrade(
        Order storage buyOrder,
        Order storage sellOrder,
        uint256 amount,
        uint256 price
    ) private {
        // è®¡ç®—äº¤æ˜“é‡‘é¢
        uint256 tradeValue = amount * price / 10000;

        // è®¡ç®—æ‰‹ç»­è´¹
        uint256 fee = tradeValue * feeRate / 10000;
        uint256 sellerProceeds = tradeValue - fee;

        // è½¬ç§» vToken ç»™ä¹°å®¶
        IERC20(buyOrder.vToken).transfer(buyOrder.trader, amount);

        // è½¬ç§» baseToken ç»™å–å®¶
        IERC20(buyOrder.baseToken).transfer(sellOrder.trader, sellerProceeds);

        // æ‰‹ç»­è´¹è½¬ç»™åè®® (æˆ–é”€æ¯/åˆ†çº¢)
        // IERC20(buyOrder.baseToken).transfer(feeRecipient, fee);
    }

    /**
     * @dev å–æ¶ˆè®¢å•
     */
    function cancelOrder(uint256 orderId) external {
        Order storage order = orders[orderId];
        require(order.trader == msg.sender, "Not your order");
        require(order.isActive, "Order not active");

        // é€€è¿˜å‰©ä½™ä»£å¸
        uint256 remaining = order.amount - order.filled;
        if (remaining > 0) {
            if (order.isBuy) {
                uint256 refund = remaining * order.price / 10000;
                IERC20(order.baseToken).transfer(msg.sender, refund);
            } else {
                IERC20(order.vToken).transfer(msg.sender, remaining);
            }
        }

        order.isActive = false;

        emit OrderCanceled(orderId);
    }

    // ... è¾…åŠ©å‡½æ•°
}
```

---

#### ğŸ¨ äº¤æ˜“ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  vToken äº¤æ˜“å¸‚åœº                            vDOT/DOT äº¤æ˜“å¯¹   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è®¢å•ç°¿                  â”‚  â”‚  Kçº¿å›¾ / æ·±åº¦å›¾          â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  å–å• (ä»ä½åˆ°é«˜)          â”‚  â”‚       1.015 â”Œâ”€â•®         â”‚  â”‚
â”‚  â”‚  1.015  500 vDOT  â–²     â”‚  â”‚            â•­â”€â•¯ â•°â”€â•®       â”‚  â”‚
â”‚  â”‚  1.014  800 vDOT  â”‚     â”‚  â”‚       â•­â”€â”€â”€â•¯      â•°â”€â”€â•®    â”‚  â”‚
â”‚  â”‚  1.013 1200 vDOT  â”‚     â”‚  â”‚  â•­â”€â”€â”€â”€â•¯             â•°â”€   â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚       1.000              â”‚  â”‚
â”‚  â”‚  â•â•â•â•â•â• 1.0125 â•â•â•â•â•â•   â”‚  â”‚  24h æ¶¨è·Œ: +0.5%         â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  ä¹°å• (ä»é«˜åˆ°ä½)          â”‚  â”‚  æˆäº¤é‡: 125K vDOT       â”‚  â”‚
â”‚  â”‚  1.012 1500 vDOT  â”‚     â”‚  â”‚  æœ€é«˜: 1.018             â”‚  â”‚
â”‚  â”‚  1.011 2000 vDOT  â”‚     â”‚  â”‚  æœ€ä½: 1.008             â”‚  â”‚
â”‚  â”‚  1.010 1800 vDOT  â–¼     â”‚  â”‚                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä¸‹å•åŒº                                                 â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  [ä¹°å…¥] [å–å‡º]                                          â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  è®¢å•ç±»å‹: â—‰ é™ä»·å•  â—¯ å¸‚ä»·å•                          â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  ä»·æ ¼                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ [1.0125] DOT/vDOT              [ä½¿ç”¨æœ€ä¼˜ä»·]       â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  æ•°é‡                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ [500] vDOT                     [25%][50%][100%]   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  æ€»é¢: 506.25 DOT                                      â”‚  â”‚
â”‚  â”‚  æ‰‹ç»­è´¹: 1.52 DOT (0.3%)                               â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  å¯ç”¨ä½™é¢: 1,250 DOT                                   â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  [âœ“ ä¹°å…¥ vDOT]                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                â”‚
â”‚  æˆ‘çš„è®¢å•                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [æ´»è·ƒè®¢å•] [å†å²è®°å½•]                                   â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  æ—¶é—´          ç±»å‹   ä»·æ ¼    æ•°é‡      å·²æˆäº¤   çŠ¶æ€    â”‚  â”‚
â”‚  â”‚  14:32:15    ä¹°å…¥   1.012   1000     500/1000  éƒ¨åˆ†æˆäº¤â”‚  â”‚
â”‚  â”‚  13:15:42    å–å‡º   1.015    500     500/500   å·²å®Œæˆ  â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  [å–æ¶ˆè®¢å•]                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

ç»§ç»­ç”Ÿæˆå‰©ä½™çš„è¯¦ç»†åˆ†æå†…å®¹...

ç”±äºå†…å®¹éå¸¸è¯¦ç»†,è®©æˆ‘ç»§ç»­å®Œæˆå¹¶ç”Ÿæˆå¯è§†åŒ–æ¶æ„å›¾:

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "\u5206\u6790\u8d5b\u9053\u4e00\uff1a\u6784\u5efa\u4e0b\u4e00\u4ee3 Web3 \u751f\u6001\u7cfb\u7edf", "activeForm": "\u5206\u6790\u8d5b\u9053\u4e00\uff1a\u6784\u5efa\u4e0b\u4e00\u4ee3 Web3 \u751f\u6001\u7cfb\u7edf", "status": "completed"}, {"content": "\u5206\u6790\u8d5b\u9053\u4e8c\uff1aBifrost \u6d41\u52a8\u6027\u8d28\u62bc\u521b\u65b0\u4f53\u9a8c", "activeForm": "\u5206\u6790\u8d5b\u9053\u4e8c\uff1aBifrost \u6d41\u52a8\u6027\u8d28\u62bc\u521b\u65b0\u4f53\u9a8c", "status": "completed"}, {"content": "\u4e3a\u6bcf\u4e2a\u521b\u610f\u65b9\u5411\u751f\u6210\u8be6\u7ec6\u5206\u6790\u6587\u6863", "activeForm": "\u4e3a\u6bcf\u4e2a\u521b\u610f\u65b9\u5411\u751f\u6210\u8be6\u7ec6\u5206\u6790\u6587\u6863", "status": "in_progress"}, {"content": "\u751f\u6210\u6280\u672f\u67b6\u6784\u56fe\u548c\u6d41\u7a0b\u56fe", "activeForm": "\u751f\u6210\u6280\u672f\u67b6\u6784\u56fe\u548c\u6d41\u7a0b\u56fe", "status": "pending"}]